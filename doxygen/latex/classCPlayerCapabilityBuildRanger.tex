\hypertarget{classCPlayerCapabilityBuildRanger}{}\section{C\+Player\+Capability\+Build\+Ranger Class Reference}
\label{classCPlayerCapabilityBuildRanger}\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}


Inheritance diagram for C\+Player\+Capability\+Build\+Ranger\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{classCPlayerCapabilityBuildRanger__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for C\+Player\+Capability\+Build\+Ranger\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildRanger__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classCPlayerCapabilityBuildRanger_1_1CActivatedCapability}{C\+Activated\+Capability}
\item 
class \hyperlink{classCPlayerCapabilityBuildRanger_1_1CRegistrant}{C\+Registrant}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classCPlayerCapabilityBuildRanger_a624146c70790e8a3d85db28a42a466d2}{$\sim$\+C\+Player\+Capability\+Build\+Ranger} ()
\item 
bool \hyperlink{classCPlayerCapabilityBuildRanger_ad8b45a3ffc7ee82d5550cc690823d82c}{Can\+Initiate} (std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ actor, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ playerdata)
\item 
bool \hyperlink{classCPlayerCapabilityBuildRanger_a2e688d8f68ab53402afe9303dd28754a}{Can\+Apply} (std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ actor, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ playerdata, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ target)
\item 
bool \hyperlink{classCPlayerCapabilityBuildRanger_a113a97c3d833f206d333cb0e2e37aa31}{Apply\+Capability} (std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ actor, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ playerdata, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ target)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCPlayerCapabilityBuildRanger_adb3602c8f527157dcd0c9289272a9aa0}{C\+Player\+Capability\+Build\+Ranger} (const std\+::string \&unitname)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{D\+Unit\+Name}
\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classCPlayerCapabilityBuildRanger_1_1CRegistrant}{C\+Registrant} \hyperlink{classCPlayerCapabilityBuildRanger_a612ac35d629ed8c0ef38d52d26aee222}{D\+Registrant}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 161 of file Unit\+Upgrade\+Capabilities.\+cpp.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classCPlayerCapabilityBuildRanger_adb3602c8f527157dcd0c9289272a9aa0}{}\label{classCPlayerCapabilityBuildRanger_adb3602c8f527157dcd0c9289272a9aa0} 
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\subsubsection{\texorpdfstring{C\+Player\+Capability\+Build\+Ranger()}{CPlayerCapabilityBuildRanger()}}
{\footnotesize\ttfamily C\+Player\+Capability\+Build\+Ranger\+::\+C\+Player\+Capability\+Build\+Ranger (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{unitname }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 203 of file Unit\+Upgrade\+Capabilities.\+cpp.


\begin{DoxyCode}
203                                                                                     : 
      \hyperlink{classCPlayerCapability_a303de62aba5d3f65d9a8e013c64a96c1}{CPlayerCapability}(std::string(\textcolor{stringliteral}{"Build"}) + unitname, \hyperlink{classCPlayerCapability_a9d3450ed1532fd536bd6cbb1e2eef02fac78f0e806a6b0ead030d63c27c9ce929}{ttNone})\{
204     \hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName} = unitname;
205 \}
\end{DoxyCode}
\hypertarget{classCPlayerCapabilityBuildRanger_a624146c70790e8a3d85db28a42a466d2}{}\label{classCPlayerCapabilityBuildRanger_a624146c70790e8a3d85db28a42a466d2} 
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!````~C\+Player\+Capability\+Build\+Ranger@{$\sim$\+C\+Player\+Capability\+Build\+Ranger}}
\index{````~C\+Player\+Capability\+Build\+Ranger@{$\sim$\+C\+Player\+Capability\+Build\+Ranger}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\subsubsection{\texorpdfstring{$\sim$\+C\+Player\+Capability\+Build\+Ranger()}{~CPlayerCapabilityBuildRanger()}}
{\footnotesize\ttfamily virtual C\+Player\+Capability\+Build\+Ranger\+::$\sim$\+C\+Player\+Capability\+Build\+Ranger (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Definition at line 190 of file Unit\+Upgrade\+Capabilities.\+cpp.


\begin{DoxyCode}
190 \{\};
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildRanger_a624146c70790e8a3d85db28a42a466d2_cgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\hypertarget{classCPlayerCapabilityBuildRanger_a113a97c3d833f206d333cb0e2e37aa31}{}\label{classCPlayerCapabilityBuildRanger_a113a97c3d833f206d333cb0e2e37aa31} 
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!Apply\+Capability@{Apply\+Capability}}
\index{Apply\+Capability@{Apply\+Capability}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\subsubsection{\texorpdfstring{Apply\+Capability()}{ApplyCapability()}}
{\footnotesize\ttfamily bool C\+Player\+Capability\+Build\+Ranger\+::\+Apply\+Capability (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{actor,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$}]{playerdata,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \hyperlink{classCPlayerCapability_a2ca6fd7fbd9c0178f1cf1d049c63825f}{C\+Player\+Capability}.



Definition at line 249 of file Unit\+Upgrade\+Capabilities.\+cpp.


\begin{DoxyCode}
249                                                                                                            
                                                               \{
250     \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca7bb38316bc3193b5c9ec67ea6aad549c}{atLumberMill} == actor->Type())\{
251         \textcolor{keyword}{auto} Upgrade = \hyperlink{classCPlayerUpgrade_af47a08aba3a1a5b2cefacef24065a82e}{CPlayerUpgrade::FindUpgradeFromName}(std::string(\textcolor{stringliteral}{"
      Build"}) + \hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName});
252         
253         \textcolor{keywordflow}{if}(Upgrade)\{
254             \hyperlink{structSAssetCommand}{SAssetCommand} NewCommand;
255             
256             actor->ClearCommand();
257             NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability};
258             NewCommand.\hyperlink{structSAssetCommand_a734ea7c6847457b437360f333f570ff9}{DCapability} = \hyperlink{classCPlayerCapability_a433bb196cd6ab6a932f1cac102b3aa98}{AssetCapabilityType}();
259             NewCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = target;
260             NewCommand.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability} = std::make\_shared< CActivatedCapability >(
      actor, playerdata, target, actor->AssetType(), \hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName}, Upgrade->LumberCost(), Upgrade->GoldCost(
      ), \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * Upgrade->ResearchTime());
261             actor->PushCommand(NewCommand);
262             
263             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
264         \}
265     \}
266     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca1cbf6c944f30d615a247eef1f57b2230}{atBarracks} == actor->Type())\{
267         \textcolor{keyword}{auto} AssetIterator = playerdata->AssetTypes()->find(\hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName});
268         
269         \textcolor{keywordflow}{if}(AssetIterator != playerdata->AssetTypes()->end())\{
270             \textcolor{keyword}{auto} AssetType = AssetIterator->second;
271             \textcolor{keyword}{auto} NewAsset = playerdata->CreateAsset(\hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName});
272             \hyperlink{structSAssetCommand}{SAssetCommand} NewCommand;
273             \hyperlink{classCPosition}{CPosition} TilePosition;
274             TilePosition.\hyperlink{classCPosition_ae302aa21792de64c97de29e2cbbfeb94}{SetToTile}(actor->Position());
275             NewAsset->TilePosition(TilePosition);
276             NewAsset->HitPoints(1);
277             
278             NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability};
279             NewCommand.\hyperlink{structSAssetCommand_a734ea7c6847457b437360f333f570ff9}{DCapability} = \hyperlink{classCPlayerCapability_a433bb196cd6ab6a932f1cac102b3aa98}{AssetCapabilityType}();
280             NewCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = NewAsset;
281             NewCommand.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability} = std::make\_shared< CActivatedCapability >(
      actor, playerdata, NewAsset, actor->AssetType(), \hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName}, AssetType->LumberCost(), AssetType->
      GoldCost(), \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * AssetType->BuildTime());
282             actor->PushCommand(NewCommand);
283         \}
284     \}
285     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
286 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildRanger_a113a97c3d833f206d333cb0e2e37aa31_cgraph}
\end{center}
\end{figure}
\hypertarget{classCPlayerCapabilityBuildRanger_a2e688d8f68ab53402afe9303dd28754a}{}\label{classCPlayerCapabilityBuildRanger_a2e688d8f68ab53402afe9303dd28754a} 
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!Can\+Apply@{Can\+Apply}}
\index{Can\+Apply@{Can\+Apply}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\subsubsection{\texorpdfstring{Can\+Apply()}{CanApply()}}
{\footnotesize\ttfamily bool C\+Player\+Capability\+Build\+Ranger\+::\+Can\+Apply (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{actor,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$}]{playerdata,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \hyperlink{classCPlayerCapability_ae96263e0950f496492f8baeb877b9554}{C\+Player\+Capability}.



Definition at line 245 of file Unit\+Upgrade\+Capabilities.\+cpp.


\begin{DoxyCode}
245                                                                                                            
                                                        \{
246     \textcolor{keywordflow}{return} \hyperlink{classCPlayerCapabilityBuildRanger_ad8b45a3ffc7ee82d5550cc690823d82c}{CanInitiate}(actor, playerdata);
247 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildRanger_a2e688d8f68ab53402afe9303dd28754a_cgraph}
\end{center}
\end{figure}
\hypertarget{classCPlayerCapabilityBuildRanger_ad8b45a3ffc7ee82d5550cc690823d82c}{}\label{classCPlayerCapabilityBuildRanger_ad8b45a3ffc7ee82d5550cc690823d82c} 
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!Can\+Initiate@{Can\+Initiate}}
\index{Can\+Initiate@{Can\+Initiate}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\subsubsection{\texorpdfstring{Can\+Initiate()}{CanInitiate()}}
{\footnotesize\ttfamily bool C\+Player\+Capability\+Build\+Ranger\+::\+Can\+Initiate (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{actor,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$}]{playerdata }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \hyperlink{classCPlayerCapability_aa83b1e1fcaff2985c378132d679154ea}{C\+Player\+Capability}.



Definition at line 207 of file Unit\+Upgrade\+Capabilities.\+cpp.


\begin{DoxyCode}
207                                                                                                            
                     \{
208     
209     \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca7bb38316bc3193b5c9ec67ea6aad549c}{atLumberMill} == actor->Type())\{
210         \textcolor{keyword}{auto} Upgrade = \hyperlink{classCPlayerUpgrade_af47a08aba3a1a5b2cefacef24065a82e}{CPlayerUpgrade::FindUpgradeFromName}(std::string(\textcolor{stringliteral}{"
      Build"}) + \hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName});
211         
212         \textcolor{keywordflow}{if}(Upgrade)\{
213     
214             \textcolor{keywordflow}{if}(Upgrade->LumberCost() > playerdata->Lumber())\{
215                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
216             \}
217             \textcolor{keywordflow}{if}(Upgrade->GoldCost() > playerdata->Gold())\{
218                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
219             \}
220             \textcolor{keywordflow}{if}(!playerdata->AssetRequirementsMet(\hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName}))\{
221                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
222             \}
223         \}
224     \}
225     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca1cbf6c944f30d615a247eef1f57b2230}{atBarracks} == actor->Type())\{
226         \textcolor{keyword}{auto} AssetIterator = playerdata->AssetTypes()->find(\hyperlink{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{DUnitName});
227         
228         \textcolor{keywordflow}{if}(AssetIterator != playerdata->AssetTypes()->end())\{
229             \textcolor{keyword}{auto} AssetType = AssetIterator->second;
230             \textcolor{keywordflow}{if}(AssetType->LumberCost() > playerdata->Lumber())\{
231                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
232             \}
233             \textcolor{keywordflow}{if}(AssetType->GoldCost() > playerdata->Gold())\{
234                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
235             \}
236             \textcolor{keywordflow}{if}((AssetType->FoodConsumption() + playerdata->FoodConsumption()) > playerdata->FoodProduction(
      ))\{
237                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};    
238             \}
239         \}
240     \}
241     
242     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
243 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildRanger_ad8b45a3ffc7ee82d5550cc690823d82c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildRanger_ad8b45a3ffc7ee82d5550cc690823d82c_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\hypertarget{classCPlayerCapabilityBuildRanger_a612ac35d629ed8c0ef38d52d26aee222}{}\label{classCPlayerCapabilityBuildRanger_a612ac35d629ed8c0ef38d52d26aee222} 
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!D\+Registrant@{D\+Registrant}}
\index{D\+Registrant@{D\+Registrant}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\subsubsection{\texorpdfstring{D\+Registrant}{DRegistrant}}
{\footnotesize\ttfamily \hyperlink{classCPlayerCapabilityBuildRanger_1_1CRegistrant}{C\+Player\+Capability\+Build\+Ranger\+::\+C\+Registrant} C\+Player\+Capability\+Build\+Ranger\+::\+D\+Registrant\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}



Definition at line 167 of file Unit\+Upgrade\+Capabilities.\+cpp.

\hypertarget{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba}{}\label{classCPlayerCapabilityBuildRanger_a4e85674699365fe1e77bcb2a1996d7ba} 
\index{C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}!D\+Unit\+Name@{D\+Unit\+Name}}
\index{D\+Unit\+Name@{D\+Unit\+Name}!C\+Player\+Capability\+Build\+Ranger@{C\+Player\+Capability\+Build\+Ranger}}
\subsubsection{\texorpdfstring{D\+Unit\+Name}{DUnitName}}
{\footnotesize\ttfamily std\+::string C\+Player\+Capability\+Build\+Ranger\+::\+D\+Unit\+Name\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 186 of file Unit\+Upgrade\+Capabilities.\+cpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\hyperlink{UnitUpgradeCapabilities_8cpp}{Unit\+Upgrade\+Capabilities.\+cpp}\end{DoxyCompactItemize}
