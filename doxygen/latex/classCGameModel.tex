\hypertarget{classCGameModel}{}\section{C\+Game\+Model Class Reference}
\label{classCGameModel}\index{C\+Game\+Model@{C\+Game\+Model}}


{\ttfamily \#include $<$Game\+Model.\+h$>$}



Collaboration diagram for C\+Game\+Model\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCGameModel__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCGameModel_a37858821d1294b21b374cf4f81052f3e}{C\+Game\+Model} (int mapindex, uint64\+\_\+t seed, \hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602f}{E\+Player\+Color} newcolors\mbox{[}\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pc\+Max}\mbox{]})
\item 
int \hyperlink{classCGameModel_af27947dce7cc0fa2dc9ec81872e26264}{Game\+Cycle} () const
\item 
bool \hyperlink{classCGameModel_a5e6e46dd32a655e2a4432aeb134cc7e3}{Valid\+Asset} (std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ asset)
\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classCAssetDecoratedMap}{C\+Asset\+Decorated\+Map} $>$ \hyperlink{classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3}{Map} () const
\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ \hyperlink{classCGameModel_ad9c8def41d5369661fab971b9a4fe786}{Player} (\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602f}{E\+Player\+Color} color) const
\item 
void \hyperlink{classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f}{Timestep} ()
\item 
void \hyperlink{classCGameModel_a7591a4e79f91a048462bce532fd4eca1}{Clear\+Game\+Events} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCRandomNumberGenerator}{C\+Random\+Number\+Generator} \hyperlink{classCGameModel_a3fb9b6b40f397c022087f381f63954b9}{D\+Random\+Number\+Generator}
\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classCAssetDecoratedMap}{C\+Asset\+Decorated\+Map} $>$ \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{D\+Actual\+Map}
\item 
std\+::vector$<$ std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ $>$ $>$ \hyperlink{classCGameModel_a2207654c461a3654c6d765dd5421373f}{D\+Asset\+Occupancy\+Map}
\item 
std\+::vector$<$ std\+::vector$<$ bool $>$ $>$ \hyperlink{classCGameModel_a30e26a862e4eb282a275ed192017c248}{D\+Diagonal\+Occupancy\+Map}
\item 
\hyperlink{classCRouterMap}{C\+Router\+Map} \hyperlink{classCGameModel_a37d0b5536c88a3e6ec16f46e7a413adf}{D\+Router\+Map}
\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{D\+Players} \mbox{[}\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pc\+Max}\mbox{]}
\item 
std\+::vector$<$ std\+::vector$<$ int $>$ $>$ \hyperlink{classCGameModel_ae0bad49626fc5b7bdf8b3fe6a4187462}{D\+Lumber\+Available}
\item 
int \hyperlink{classCGameModel_a80bf86a6c1d75229d5d0f441f6313a1c}{D\+Game\+Cycle}
\item 
int \hyperlink{classCGameModel_a0160295e3cf06b7bbcb9247bc49e3156}{D\+Harvest\+Time}
\item 
int \hyperlink{classCGameModel_a719733742e1340921a12efce992b07fe}{D\+Harvest\+Steps}
\item 
int \hyperlink{classCGameModel_ab7bd9d3b4852d539aa605177ae2f27e8}{D\+Mine\+Time}
\item 
int \hyperlink{classCGameModel_a9f3d8b652f62a0a1b993cb2402800203}{D\+Mine\+Steps}
\item 
int \hyperlink{classCGameModel_a4452faa5aa4b062cde343ccd24166232}{D\+Convey\+Time}
\item 
int \hyperlink{classCGameModel_ad322487a9b50d395fe69c7ad95b71a10}{D\+Convey\+Steps}
\item 
int \hyperlink{classCGameModel_a2ddf991af7749f946a4fe242b2397b9a}{D\+Death\+Time}
\item 
int \hyperlink{classCGameModel_a8067a8f3737b0f1d6fced523926ce167}{D\+Death\+Steps}
\item 
int \hyperlink{classCGameModel_abd062550cd4f0f9286f78f3195fe2f71}{D\+Decay\+Time}
\item 
int \hyperlink{classCGameModel_ac4a0ea3659c796b1c4f8b1f91d0e3258}{D\+Decay\+Steps}
\item 
int \hyperlink{classCGameModel_abfa4628f678b64ecfefb9f56150d906f}{D\+Lumber\+Per\+Harvest}
\item 
int \hyperlink{classCGameModel_a886529fe17365373d28c2881fdaa21f0}{D\+Gold\+Per\+Mining}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 163 of file Game\+Model.\+h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classCGameModel_a37858821d1294b21b374cf4f81052f3e}{}\label{classCGameModel_a37858821d1294b21b374cf4f81052f3e} 
\index{C\+Game\+Model@{C\+Game\+Model}!C\+Game\+Model@{C\+Game\+Model}}
\index{C\+Game\+Model@{C\+Game\+Model}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{C\+Game\+Model()}{CGameModel()}}
{\footnotesize\ttfamily C\+Game\+Model\+::\+C\+Game\+Model (\begin{DoxyParamCaption}\item[{int}]{mapindex,  }\item[{uint64\+\_\+t}]{seed,  }\item[{\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602f}{E\+Player\+Color}}]{newcolors\mbox{[}pc\+Max\mbox{]} }\end{DoxyParamCaption})}



Definition at line 456 of file Game\+Model.\+cpp.


\begin{DoxyCode}
456                                                                                 \{
457 
458     \hyperlink{classCGameModel_a0160295e3cf06b7bbcb9247bc49e3156}{DHarvestTime} = 5;
459     \hyperlink{classCGameModel_a719733742e1340921a12efce992b07fe}{DHarvestSteps} = \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * 
      \hyperlink{classCGameModel_a0160295e3cf06b7bbcb9247bc49e3156}{DHarvestTime};
460     \hyperlink{classCGameModel_ab7bd9d3b4852d539aa605177ae2f27e8}{DMineTime} = 5;
461     \hyperlink{classCGameModel_a9f3d8b652f62a0a1b993cb2402800203}{DMineSteps} = \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * 
      \hyperlink{classCGameModel_ab7bd9d3b4852d539aa605177ae2f27e8}{DMineTime};
462     \hyperlink{classCGameModel_a4452faa5aa4b062cde343ccd24166232}{DConveyTime} = 1;
463     \hyperlink{classCGameModel_ad322487a9b50d395fe69c7ad95b71a10}{DConveySteps} = \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * 
      \hyperlink{classCGameModel_a4452faa5aa4b062cde343ccd24166232}{DConveyTime};
464     \hyperlink{classCGameModel_a2ddf991af7749f946a4fe242b2397b9a}{DDeathTime} = 1;
465     \hyperlink{classCGameModel_a8067a8f3737b0f1d6fced523926ce167}{DDeathSteps} = \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * 
      \hyperlink{classCGameModel_a2ddf991af7749f946a4fe242b2397b9a}{DDeathTime};
466     \hyperlink{classCGameModel_abd062550cd4f0f9286f78f3195fe2f71}{DDecayTime} = 4;
467     \hyperlink{classCGameModel_ac4a0ea3659c796b1c4f8b1f91d0e3258}{DDecaySteps} = \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * 
      \hyperlink{classCGameModel_abd062550cd4f0f9286f78f3195fe2f71}{DDecayTime};
468     \hyperlink{classCGameModel_abfa4628f678b64ecfefb9f56150d906f}{DLumberPerHarvest} = 100;
469     \hyperlink{classCGameModel_a886529fe17365373d28c2881fdaa21f0}{DGoldPerMining} = 100;
470     
471     \hyperlink{classCGameModel_a3fb9b6b40f397c022087f381f63954b9}{DRandomNumberGenerator}.\hyperlink{classCRandomNumberGenerator_a9b6f52335ea93f1aaec4521c66806f39}{Seed}(seed);
472     \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap} = \hyperlink{classCAssetDecoratedMap_a9d0fa2b32e4e8add6da83a7ebcfab6d8}{CAssetDecoratedMap::DuplicateMap}(mapindex, 
      newcolors);
473     
474     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} PlayerIndex = 0; PlayerIndex < \hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pcMax}; PlayerIndex++)\{
475         \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[PlayerIndex] = std::make\_shared< CPlayerData > (
      \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}, (\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602f}{EPlayerColor})PlayerIndex);
476     \}
477     \hyperlink{classCGameModel_a2207654c461a3654c6d765dd5421373f}{DAssetOccupancyMap}.resize(\hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Height());
478     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Row : \hyperlink{classCGameModel_a2207654c461a3654c6d765dd5421373f}{DAssetOccupancyMap})\{
479         Row.resize(\hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Width());
480     \}
481     \hyperlink{classCGameModel_a30e26a862e4eb282a275ed192017c248}{DDiagonalOccupancyMap}.resize(\hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Height());
482     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Row : \hyperlink{classCGameModel_a30e26a862e4eb282a275ed192017c248}{DDiagonalOccupancyMap})\{
483         Row.resize(\hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Width());
484     \}
485     
486     \hyperlink{classCGameModel_ae0bad49626fc5b7bdf8b3fe6a4187462}{DLumberAvailable}.resize(\hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Height());
487     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Row : \hyperlink{classCGameModel_ae0bad49626fc5b7bdf8b3fe6a4187462}{DLumberAvailable})\{
488         Row.resize(\hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Width());
489     \}
490     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} Row = 0; Row < \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Height(); Row++)\{
491         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} Col = 0; Col < \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Width(); Col++)\{
492             \textcolor{keywordflow}{if}(\hyperlink{classCTerrainMap_aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c}{CTerrainMap::ttTree} == \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->TileType(Col, Row))\{
493                 DLumberAvailable[Row][Col] = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[0]->Lumber();      
494             \}
495             \textcolor{keywordflow}{else}\{
496                 DLumberAvailable[Row][Col] = 0;    
497             \}
498         \}
499     \}
500     
501 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCGameModel_a37858821d1294b21b374cf4f81052f3e_cgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\hypertarget{classCGameModel_a7591a4e79f91a048462bce532fd4eca1}{}\label{classCGameModel_a7591a4e79f91a048462bce532fd4eca1} 
\index{C\+Game\+Model@{C\+Game\+Model}!Clear\+Game\+Events@{Clear\+Game\+Events}}
\index{Clear\+Game\+Events@{Clear\+Game\+Events}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{Clear\+Game\+Events()}{ClearGameEvents()}}
{\footnotesize\ttfamily void C\+Game\+Model\+::\+Clear\+Game\+Events (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 1107 of file Game\+Model.\+cpp.


\begin{DoxyCode}
1107                                 \{
1108     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} PlayerIndex = 0; PlayerIndex < \hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pcMax}; PlayerIndex++)\{
1109         \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[PlayerIndex]->ClearGameEvents();
1110     \}
1111 \}
\end{DoxyCode}
\hypertarget{classCGameModel_af27947dce7cc0fa2dc9ec81872e26264}{}\label{classCGameModel_af27947dce7cc0fa2dc9ec81872e26264} 
\index{C\+Game\+Model@{C\+Game\+Model}!Game\+Cycle@{Game\+Cycle}}
\index{Game\+Cycle@{Game\+Cycle}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{Game\+Cycle()}{GameCycle()}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+Game\+Cycle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 189 of file Game\+Model.\+h.


\begin{DoxyCode}
189                              \{
190             \textcolor{keywordflow}{return} \hyperlink{classCGameModel_a80bf86a6c1d75229d5d0f441f6313a1c}{DGameCycle};
191         \};
\end{DoxyCode}
\hypertarget{classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3}{}\label{classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3} 
\index{C\+Game\+Model@{C\+Game\+Model}!Map@{Map}}
\index{Map@{Map}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{Map()}{Map()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \hyperlink{classCAssetDecoratedMap}{C\+Asset\+Decorated\+Map} $>$ C\+Game\+Model\+::\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 194 of file Game\+Model.\+h.


\begin{DoxyCode}
194                                                        \{
195             \textcolor{keywordflow}{return} \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap};  
196         \};
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3_cgraph}
\end{center}
\end{figure}
\hypertarget{classCGameModel_ad9c8def41d5369661fab971b9a4fe786}{}\label{classCGameModel_ad9c8def41d5369661fab971b9a4fe786} 
\index{C\+Game\+Model@{C\+Game\+Model}!Player@{Player}}
\index{Player@{Player}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{Player()}{Player()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ C\+Game\+Model\+::\+Player (\begin{DoxyParamCaption}\item[{\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602f}{E\+Player\+Color}}]{color }\end{DoxyParamCaption}) const}



Definition at line 512 of file Game\+Model.\+cpp.


\begin{DoxyCode}
512                                                                        \{
513     \textcolor{keywordflow}{if}((0 > color)||(\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pcMax} <= color))\{
514         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};   
515     \}
516     \textcolor{keywordflow}{return} \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[color];
517 \}
\end{DoxyCode}
\hypertarget{classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f}{}\label{classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f} 
\index{C\+Game\+Model@{C\+Game\+Model}!Timestep@{Timestep}}
\index{Timestep@{Timestep}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{Timestep()}{Timestep()}}
{\footnotesize\ttfamily void C\+Game\+Model\+::\+Timestep (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 519 of file Game\+Model.\+cpp.


\begin{DoxyCode}
519                          \{
520     std::vector< SGameEvent > CurrentEvents;
521     \hyperlink{structSGameEvent}{SGameEvent} TempEvent;
522     
523     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Row : \hyperlink{classCGameModel_a2207654c461a3654c6d765dd5421373f}{DAssetOccupancyMap})\{
524         \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Cell : Row)\{
525             Cell = \textcolor{keyword}{nullptr};
526         \}
527     \}
528     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Row : \hyperlink{classCGameModel_a30e26a862e4eb282a275ed192017c248}{DDiagonalOccupancyMap})\{
529         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} Index = 0; Index < Row.size(); Index++)\{
530             Row[Index] = \textcolor{keyword}{false};
531         \}
532     \}
533     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Asset : \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Assets())\{
534         \textcolor{keywordflow}{if}((\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a}{aaConveyGold} != Asset->Action())&&(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154}{aaConveyLumber} != Asset->Action())
      &&(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b}{aaMineGold} != Asset->Action()))\{
535             DAssetOccupancyMap[Asset->TilePositionY()][Asset->TilePositionX()] = Asset;
536         \}
537     \}
538     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} PlayerIndex = 1; PlayerIndex < \hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pcMax}; PlayerIndex++)\{
539         \textcolor{keywordflow}{if}(\hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[PlayerIndex]->IsAlive())\{
540             \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[PlayerIndex]->UpdateVisibility();
541         \}
542     \}
543     \textcolor{keyword}{auto} AllAssets = \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Assets();
544     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Asset : AllAssets)\{
545         \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507}{aaNone} == Asset->Action())\{
546             Asset->PopCommand(); 
547         \}
548         
549         \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability} == Asset->Action())\{
550             \hyperlink{structSAssetCommand}{SAssetCommand} Command = Asset->CurrentCommand();
551             \textcolor{keywordflow}{if}(Command.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability})\{
552                 \textcolor{keywordflow}{if}(Command.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability}->IncrementStep())\{
553                     \textcolor{comment}{// All Done    }
554                 \}
555             \}
556             \textcolor{keywordflow}{else}\{
557                 \textcolor{keyword}{auto} PlayerCapability = \hyperlink{classCPlayerCapability_a881ba4b87385d7cfe5cb6ced2d26f226}{CPlayerCapability::FindCapability}(
      Command.\hyperlink{structSAssetCommand_a734ea7c6847457b437360f333f570ff9}{DCapability});
558                 
559                 Asset->PopCommand();
560                 \textcolor{keywordflow}{if}(PlayerCapability->CanApply(Asset, \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()], Command.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}))\{
561                     PlayerCapability->ApplyCapability(Asset, \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()], Command.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget});
562                 \}
563                 \textcolor{keywordflow}{else}\{
564                     \textcolor{comment}{// Can't apply notify problem   }
565                 \}
566             \}
567         \} 
568         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee}{aaHarvestLumber} == Asset->Action())\{
569             \hyperlink{structSAssetCommand}{SAssetCommand} Command = Asset->CurrentCommand();
570             \hyperlink{classCPosition}{CPosition} TilePosition = Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->TilePosition();
571             \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection} HarvestDirection = Asset->TilePosition().AdjacentTileDirection(
      TilePosition);
572             
573             \textcolor{keywordflow}{if}(\hyperlink{classCTerrainMap_aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c}{CTerrainMap::ttTree} != \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->TileType(TilePosition))\{
574                 HarvestDirection = \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax};
575                 TilePosition = Asset->TilePosition();
576             \}
577             \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax} == HarvestDirection)\{
578                 \textcolor{keywordflow}{if}(TilePosition == Asset->TilePosition())\{
579                     \hyperlink{classCPosition}{CPosition} NewPosition = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->
      FindNearestReachableTileType(Asset->TilePosition(), \hyperlink{classCTerrainMap_aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c}{CTerrainMap::ttTree});
580                     \textcolor{comment}{// Find new lumber}
581                     Asset->PopCommand();
582                     \textcolor{keywordflow}{if}(0 <= NewPosition.\hyperlink{classCPosition_a9a6b94d3b91df1492d166d9964c865fc}{X}())\{
583                         NewPosition.\hyperlink{classCPosition_a46994e6a8b8e3b4237edd7259ad844b6}{SetFromTile}(NewPosition);
584                         Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->CreateMarker(
      NewPosition, \textcolor{keyword}{false});
585                         Asset->PushCommand(Command);
586                         Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
587                         Asset->PushCommand(Command);
588                         Asset->ResetStep();
589                     \}
590                 \}
591                 \textcolor{keywordflow}{else}\{
592                     \hyperlink{structSAssetCommand}{SAssetCommand} NewCommand = Command;
593                     
594                     NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
595                     Asset->PushCommand(NewCommand);
596                     Asset->ResetStep();
597                 \}
598             \}
599             \textcolor{keywordflow}{else}\{
600                 TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da1e80f7847f187eaf3f313eab1807c66c}{etHarvest};
601                 TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = Asset;
602                 CurrentEvents.push\_back(TempEvent);
603                 Asset->Direction(HarvestDirection);
604                 Asset->IncrementStep();
605                 \textcolor{keywordflow}{if}(DHarvestSteps <= Asset->Step())\{
606                     std::weak\_ptr< CPlayerAsset > NearestRepository = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->
      FindNearestOwnedAsset(Asset->Position(), \{\hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca5c0fa8a0f367f3358365536d3c7aa321}{atTownHall}, \hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477fecaaed39451bedb0392ad95fbc9c95bef31}{atKeep}, 
      \hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca6727b47855e74f3f7b6e4a96d0c2a42a}{atCastle}, \hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca7bb38316bc3193b5c9ec67ea6aad549c}{atLumberMill}\});
607                     
608                     \hyperlink{classCGameModel_ae0bad49626fc5b7bdf8b3fe6a4187462}{DLumberAvailable}[TilePosition.\hyperlink{classCPosition_a1aa8a30e2f08dda1f797736ba8c13a87}{Y}()][TilePosition.
      \hyperlink{classCPosition_a9a6b94d3b91df1492d166d9964c865fc}{X}()] -= \hyperlink{classCGameModel_abfa4628f678b64ecfefb9f56150d906f}{DLumberPerHarvest};
609                     \textcolor{keywordflow}{if}(0 >= \hyperlink{classCGameModel_ae0bad49626fc5b7bdf8b3fe6a4187462}{DLumberAvailable}[TilePosition.\hyperlink{classCPosition_a1aa8a30e2f08dda1f797736ba8c13a87}{Y}()][TilePosition.
      \hyperlink{classCPosition_a9a6b94d3b91df1492d166d9964c865fc}{X}()])\{
610                         \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->ChangeTileType(TilePosition, 
      \hyperlink{classCTerrainMap_aff2ab991e237269941416dd79d8871d4ac6008e344fb024b62741b2ffaef042ef}{CTerrainMap::ttStump});  
611                     \}
612                     
613                     \textcolor{keywordflow}{if}(!NearestRepository.expired())\{
614                         Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154}{aaConveyLumber};
615                         Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = NearestRepository.lock();
616                         Asset->PushCommand(Command);
617                         Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
618                         Asset->PushCommand(Command);
619                         Asset->Lumber(\hyperlink{classCGameModel_abfa4628f678b64ecfefb9f56150d906f}{DLumberPerHarvest});
620                         Asset->ResetStep();
621                     \}
622                     \textcolor{keywordflow}{else}\{
623                         Asset->PopCommand();
624                         Asset->Lumber(\hyperlink{classCGameModel_abfa4628f678b64ecfefb9f56150d906f}{DLumberPerHarvest});
625                         Asset->ResetStep();
626                     \}
627                 \}
628             \}
629         \}
630         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b}{aaMineGold} == Asset->Action())\{
631             \hyperlink{structSAssetCommand}{SAssetCommand} Command = Asset->CurrentCommand();
632             \hyperlink{classCPosition}{CPosition} ClosestPosition = Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClosestPosition(Asset->
      Position());
633             \hyperlink{classCPosition}{CPosition} TilePosition;
634             \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection} MineDirection;
635             
636             TilePosition.\hyperlink{classCPosition_ae302aa21792de64c97de29e2cbbfeb94}{SetToTile}(ClosestPosition);
637             MineDirection = Asset->TilePosition().AdjacentTileDirection(TilePosition);
638             \textcolor{keywordflow}{if}((\hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax} == MineDirection)&&(TilePosition != Asset->TilePosition()))\{
639                 \hyperlink{structSAssetCommand}{SAssetCommand} NewCommand = Command;
640                 
641                 NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
642                 Asset->PushCommand(NewCommand);
643                 Asset->ResetStep();
644             \}
645             \textcolor{keywordflow}{else}\{
646                 \textcolor{keywordflow}{if}(0 == Asset->Step())\{
647                     \textcolor{keywordflow}{if}((Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->CommandCount() + 1) * DGoldPerMining <= 
       Command.DAssetTarget->Gold())\{
648                         \hyperlink{structSAssetCommand}{SAssetCommand} NewCommand;
649                         NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a02b95b7163284c6e80c9008073d8480d}{aaBuild}; \textcolor{comment}{// Pretend active}
650                         NewCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = Asset;
651                         
652                         Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->EnqueueCommand(NewCommand);
653                         Asset->IncrementStep();
654                         Asset->TilePosition(Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->TilePosition());
655                     \}
656                     \textcolor{keywordflow}{else}\{
657                         \textcolor{comment}{// Look for new mine or give up?   }
658                         Asset->PopCommand();
659                     \}
660                 \}
661                 \textcolor{keywordflow}{else}\{
662                     Asset->IncrementStep();
663                     \textcolor{keywordflow}{if}(DMineSteps <= Asset->Step())\{
664                         std::shared\_ptr< CPlayerAsset > OldTarget = Command.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
665                         std::weak\_ptr< CPlayerAsset > NearestRepository = 
      \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->FindNearestOwnedAsset(Asset->Position(), \{
      \hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca5c0fa8a0f367f3358365536d3c7aa321}{atTownHall}, \hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477fecaaed39451bedb0392ad95fbc9c95bef31}{atKeep}, \hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca6727b47855e74f3f7b6e4a96d0c2a42a}{atCastle}\});
666                         \hyperlink{classCPosition}{CPosition} NextTarget(\hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->Width(
      )-1,\hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->Height()-1);
667                         
668                         Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->DecrementGold(
      \hyperlink{classCGameModel_a886529fe17365373d28c2881fdaa21f0}{DGoldPerMining});
669                         Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->PopCommand();
670                         \textcolor{keywordflow}{if}(0 >= Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Gold())\{
671                             \hyperlink{structSAssetCommand}{SAssetCommand} NewCommand;
672 
673                             NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df}{aaDeath};
674                             Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClearCommand();
675                             Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->PushCommand(NewCommand);
676                             Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ResetStep();
677                         \}
678                         Asset->Gold(\hyperlink{classCGameModel_a886529fe17365373d28c2881fdaa21f0}{DGoldPerMining});
679                         \textcolor{keywordflow}{if}(!NearestRepository.expired())\{
680                             Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a}{aaConveyGold};
681                             Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = NearestRepository.lock();
682                             Asset->PushCommand(Command);
683                             Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
684                             Asset->PushCommand(Command);
685                             Asset->ResetStep();
686                             NextTarget = Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->TilePosition();
687                         \}
688                         \textcolor{keywordflow}{else}\{
689                             Asset->PopCommand();
690                         \}
691                         Asset->TilePosition(\hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->
      FindAssetPlacement(Asset, OldTarget, NextTarget));
692                     \}
693                 \}
694             \}
695         \}
696         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3}{aaStandGround} == Asset->Action())\{
697             \hyperlink{structSAssetCommand}{SAssetCommand} Command = Asset->CurrentCommand();
698             \textcolor{keyword}{auto} NewTarget = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->FindNearestEnemy(Asset->Position(), Asset->
      EffectiveRange());
699             
700             \textcolor{keywordflow}{if}(NewTarget.expired())\{
701                 Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507}{aaNone};
702             \}
703             \textcolor{keywordflow}{else}\{
704                 Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d}{aaAttack};
705                 Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = NewTarget.lock();
706             \}
707             Asset->PushCommand(Command);
708             Asset->ResetStep();
709         \}
710         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a85399def907073717f41849c8f09eba5}{aaRepair} == Asset->Action())\{
711             \hyperlink{structSAssetCommand}{SAssetCommand} CurrentCommand = Asset->CurrentCommand();
712             \textcolor{keywordflow}{if}(CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Alive())\{
713                 \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection} RepairDirection = Asset->TilePosition().AdjacentTileDirection(
      CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->TilePosition(), CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Size());
714                 \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax} == RepairDirection)\{
715                     \hyperlink{structSAssetCommand}{SAssetCommand} NextCommand = Asset->NextCommand();
716                     
717                     CurrentCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
718                     Asset->PushCommand(CurrentCommand);
719                     Asset->ResetStep();
720                 \}
721                 \textcolor{keywordflow}{else}\{
722                     Asset->Direction(RepairDirection);
723                     Asset->IncrementStep();
724                     \textcolor{comment}{// Assume same movement as attack}
725                     \textcolor{keywordflow}{if}(Asset->Step() == Asset->AttackSteps())\{
726                         \textcolor{keywordflow}{if}(\hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->Gold() && \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->
      Lumber())\{
727                             \textcolor{keywordtype}{int} RepairPoints = (CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->MaxHitPoints() * (
      Asset->AttackSteps() + Asset->ReloadSteps())) / (\hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}(
      ) * CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->BuildTime());
728                             
729                             \textcolor{keywordflow}{if}(0 == RepairPoints)\{
730                                 RepairPoints = 1;   
731                             \}
732                             \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->DecrementGold(1);
733                             \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->DecrementLumber(1);
734                             CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->IncrementHitPoints(RepairPoints);
735                             \textcolor{keywordflow}{if}(CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->HitPoints() == CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->MaxHitPoints())\{
736                                 TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da0106cf4227412990140c1d773244b587}{etWorkComplete};
737                                 TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = Asset;
738                                 \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->AddGameEvent(TempEvent);
739                                 Asset->PopCommand();
740                             \}
741                         \}
742                         \textcolor{keywordflow}{else}\{
743                             \textcolor{comment}{// Stop repair}
744                             Asset->PopCommand();   
745                         \}
746                     \}
747                     \textcolor{keywordflow}{if}(Asset->Step() >= (Asset->AttackSteps() + Asset->ReloadSteps()))\{
748                        Asset->ResetStep();
749                     \}
750                 \}
751             \}
752             \textcolor{keywordflow}{else}\{
753                 Asset->PopCommand();
754             \}
755         \}
756         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d}{aaAttack} == Asset->Action())\{
757             \hyperlink{structSAssetCommand}{SAssetCommand} CurrentCommand = Asset->CurrentCommand();
758             \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca82fb51718e2c00981a2d37bc6fe92593}{atNone} == Asset->Type())\{
759                 \hyperlink{classCPosition}{CPosition} ClosestTargetPosition = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClosestPosition(Asset->Position());
760                 \hyperlink{classCPosition}{CPosition} DeltaPosition(ClosestTargetPosition.\hyperlink{classCPosition_a9a6b94d3b91df1492d166d9964c865fc}{X}() - Asset->PositionX(), 
      ClosestTargetPosition.\hyperlink{classCPosition_a1aa8a30e2f08dda1f797736ba8c13a87}{Y}() - Asset->PositionY());
761                 \textcolor{keywordtype}{int} Movement = \hyperlink{classCPosition_a27a7a8b9a5541da0aa8d97d785650fb8}{CPosition::TileWidth}() * 5 / 
      \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}();
762                 \textcolor{keywordtype}{int} TargetDistance = Asset->Position().Distance(ClosestTargetPosition);
763                 \textcolor{keywordtype}{int} Divisor = (TargetDistance + Movement - 1)/ Movement;
764                 
765                 \textcolor{keywordflow}{if}(Divisor)\{
766                     DeltaPosition.X( DeltaPosition.X() / Divisor);    
767                     DeltaPosition.Y( DeltaPosition.Y() / Divisor);
768                 \}
769                 Asset->PositionX(Asset->PositionX() + DeltaPosition.X());
770                 Asset->PositionY(Asset->PositionY() + DeltaPosition.Y());
771                 Asset->Direction(Asset->Position().DirectionTo(ClosestTargetPosition));
772                 \textcolor{keywordflow}{if}(\hyperlink{classCPosition_a4b799a0fb78ddd8bbd8548980e2458af}{CPosition::HalfTileWidth}() * 
      \hyperlink{classCPosition_a5e371060b1aa0d3d3c5df1e353e0e5fd}{CPosition::HalfTileHeight}() > Asset->Position().DistanceSquared(
      ClosestTargetPosition))\{
773                     TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da0a45453f61b6c27d3e65b3a2f1441cf1}{etMissleHit};
774                     TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = Asset;
775                     CurrentEvents.push\_back(TempEvent);
776                     
777                     \textcolor{keywordflow}{if}(CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Alive())\{
778                         \hyperlink{structSAssetCommand}{SAssetCommand} TargetCommand = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->CurrentCommand();
779                         TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da45f0b42495c144eda41b21a49f89e571}{etAttacked};
780                         TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
781                         \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Color()]->AddGameEvent(
      TempEvent);
782                         \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b}{aaMineGold} != TargetCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
783                             
784                             \textcolor{keywordflow}{if}((\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a}{aaConveyGold} == TargetCommand.
      \hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})||(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154}{aaConveyLumber} == TargetCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction}))\{
785                                 \textcolor{comment}{// Damage the target }
786                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = TargetCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
787                             \}
788                             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability} == TargetCommand.
      \hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction}) && TargetCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget})\{
789                                 \textcolor{keywordflow}{if}(CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Speed() && (
      \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d}{aaConstruct} == TargetCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Action()))\{
790                                     CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = TargetCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
791                                 \}
792                             \}
793                             CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->DecrementHitPoints(Asset->HitPoints())
      ;
794                             \textcolor{keywordflow}{if}(!CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Alive())\{
795                                 \hyperlink{structSAssetCommand}{SAssetCommand} Command = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->CurrentCommand();
796                                 
797                                 TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da09bf160787410891592fa1e9db2f5235}{etDeath};
798                                 TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
799                                 CurrentEvents.push\_back(TempEvent);
800                                 \textcolor{comment}{// Remove constructing}
801                                 \textcolor{keywordflow}{if}((\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability} == Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})&&(Command.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}))\{
802                                     \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d}{aaConstruct} == Command.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Action())\{
803                                         \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Color()]->
      DeleteAsset(Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget});
804                                     \}
805                                 \}
806                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d}{aaConstruct} == Command.
      \hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
807                                     \textcolor{keywordflow}{if}(Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget})\{
808                                         Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClearCommand();
809                                     \}
810                                 \}
811                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Direction((
      \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection})((Asset->Direction() + \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax}/2) % \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax}));
812                                 Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df}{aaDeath};
813                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClearCommand();
814                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->PushCommand(Command);
815                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ResetStep();
816                             \}
817                         \}
818                     \}
819                     \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->DeleteAsset(Asset);
820                 \}
821             \}
822             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Alive())\{
823                 \textcolor{keywordflow}{if}(1 == Asset->EffectiveRange())\{
824                     \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection} AttackDirection = Asset->TilePosition().AdjacentTileDirection(
      CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->TilePosition(), CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Size());
825                     \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax} == AttackDirection)\{
826                         \hyperlink{structSAssetCommand}{SAssetCommand} NextCommand = Asset->NextCommand();
827                         
828                         \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3}{aaStandGround} != NextCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
829                             CurrentCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
830                             Asset->PushCommand(CurrentCommand);
831                             Asset->ResetStep();
832                         \}
833                         \textcolor{keywordflow}{else}\{
834                             Asset->PopCommand();      
835                         \}
836                     \}
837                     \textcolor{keywordflow}{else}\{
838                         Asset->Direction(AttackDirection);
839                         Asset->IncrementStep();
840                         \textcolor{keywordflow}{if}(Asset->Step() == Asset->AttackSteps())\{
841                             \textcolor{keywordtype}{int} Damage = Asset->EffectiveBasicDamage() - CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->EffectiveArmor();
842                             Damage = 0 > Damage ? 0 : Damage;
843                             Damage += Asset->EffectivePiercingDamage();
844                             \textcolor{keywordflow}{if}(\hyperlink{classCGameModel_a3fb9b6b40f397c022087f381f63954b9}{DRandomNumberGenerator}.
      \hyperlink{classCRandomNumberGenerator_aa7fc51bde5647d15df2f1b9826702ca2}{Random}() & 0x1)\{ \textcolor{comment}{// 50% chance half damage}
845                                 Damage /= 2;
846                             \}
847                             CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->DecrementHitPoints(Damage);
848                             TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da8d8f64940a6b0bbc74f7e75a0e9e6e70}{etMeleeHit};
849                             TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = Asset;
850                             CurrentEvents.push\_back(TempEvent);
851                             TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da45f0b42495c144eda41b21a49f89e571}{etAttacked};
852                             TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
853                             \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Color()]->
      AddGameEvent(TempEvent);
854                             \textcolor{keywordflow}{if}(!CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Alive())\{
855                                 \hyperlink{structSAssetCommand}{SAssetCommand} Command = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->CurrentCommand();
856                                 
857                                 TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656da09bf160787410891592fa1e9db2f5235}{etDeath};
858                                 TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
859                                 CurrentEvents.push\_back(TempEvent);
860                                 \textcolor{comment}{// Remove constructing}
861                                 \textcolor{keywordflow}{if}((\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability} == Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})&&(Command.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}))\{
862                                     \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d}{aaConstruct} == Command.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Action())\{
863                                         \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Color()]->
      DeleteAsset(Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget});
864                                     \}
865                                 \}
866                                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d}{aaConstruct} == Command.
      \hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
867                                     \textcolor{keywordflow}{if}(Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget})\{
868                                         Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClearCommand();
869                                     \}
870                                 \}
871                                 Command.\hyperlink{structSAssetCommand_a734ea7c6847457b437360f333f570ff9}{DCapability} = \hyperlink{GameDataTypes_8h_a35b98ce26aca678b03c6f9f76e4778ceaa8df154ad276f6f62054e9b5b0696f92}{actNone};
872                                 Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = \textcolor{keyword}{nullptr};
873                                 Command.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability} = \textcolor{keyword}{nullptr};
874                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->Direction((
      \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection})((AttackDirection + \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax}/2) % \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax}));
875                                 Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df}{aaDeath};
876                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClearCommand();
877                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->PushCommand(Command);
878                                 CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ResetStep();
879                             \}
880                         \}
881                         \textcolor{keywordflow}{if}(Asset->Step() >= (Asset->AttackSteps() + Asset->ReloadSteps()))\{
882                            Asset->ResetStep();
883                         \}
884                     \}
885                 \}
886                 \textcolor{keywordflow}{else}\{ \textcolor{comment}{// EffectiveRanged}
887                     \hyperlink{classCPosition}{CPosition} ClosestTargetPosition = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClosestPosition(Asset->Position());
888                     \textcolor{keywordflow}{if}(ClosestTargetPosition.\hyperlink{classCPosition_acd96d507f44c0fdf13036ebc1a09e59c}{DistanceSquared}( Asset->Position() ) > 
      \hyperlink{GameModel_8cpp_afd5c111a1369dc53d1b1230506e99f7c}{RangeToDistanceSquared}(Asset->EffectiveRange()))\{
889                         \hyperlink{structSAssetCommand}{SAssetCommand} NextCommand = Asset->NextCommand();
890                         
891                         \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3}{aaStandGround} != NextCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
892                             CurrentCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
893                             Asset->PushCommand(CurrentCommand);
894                             Asset->ResetStep();
895                         \}
896                         \textcolor{keywordflow}{else}\{
897                             Asset->PopCommand();
898                         \}   
899                     \}
900                     \textcolor{keywordflow}{else}\{
901                         \textcolor{comment}{/*}
902 \textcolor{comment}{                        CPosition DeltaPosition(ClosestTargetPosition.X() - Asset->PositionX(),
       ClosestTargetPosition.Y() - Asset->PositionY());}
903 \textcolor{comment}{                        int DivX = DeltaPosition.X() / CPosition::HalfTileWidth();}
904 \textcolor{comment}{                        int DivY = DeltaPosition.Y() / CPosition::HalfTileHeight();}
905 \textcolor{comment}{                        int Div;}
906 \textcolor{comment}{                        EDirection AttackDirection;}
907 \textcolor{comment}{                        DivX = 0 > DivX ? -DivX : DivX;}
908 \textcolor{comment}{                        DivY = 0 > DivY ? -DivY : DivY;}
909 \textcolor{comment}{                        Div = DivX > DivY ? DivX : DivY;}
910 \textcolor{comment}{}
911 \textcolor{comment}{                        if(Div)\{}
912 \textcolor{comment}{                            DeltaPosition.X(DeltaPosition.X() / Div);}
913 \textcolor{comment}{                            DeltaPosition.Y(DeltaPosition.Y() / Div);}
914 \textcolor{comment}{                        \}}
915 \textcolor{comment}{                        DeltaPosition.IncrementX(CPosition::HalfTileWidth());}
916 \textcolor{comment}{                        DeltaPosition.IncrementY(CPosition::HalfTileHeight());}
917 \textcolor{comment}{                        if(0 > DeltaPosition.X())\{}
918 \textcolor{comment}{                            DeltaPosition.X(0);}
919 \textcolor{comment}{                        \}}
920 \textcolor{comment}{                        if(0 > DeltaPosition.Y())\{}
921 \textcolor{comment}{                            DeltaPosition.Y(0);}
922 \textcolor{comment}{                        \}}
923 \textcolor{comment}{                        if(CPosition::TileWidth() <= DeltaPosition.X())\{}
924 \textcolor{comment}{                            DeltaPosition.X(CPosition::TileWidth() - 1);}
925 \textcolor{comment}{                        \}}
926 \textcolor{comment}{                        if(CPosition::TileHeight() <= DeltaPosition.Y())\{}
927 \textcolor{comment}{                            DeltaPosition.Y(CPosition::TileHeight() - 1);}
928 \textcolor{comment}{                        \}}
929 \textcolor{comment}{                        AttackDirection = DeltaPosition.TileOctant();}
930 \textcolor{comment}{                        */}
931                         \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection} AttackDirection = Asset->Position().DirectionTo(
      ClosestTargetPosition);
932                         Asset->Direction(AttackDirection);
933                         Asset->IncrementStep();
934                         \textcolor{keywordflow}{if}(Asset->Step() == Asset->AttackSteps())\{
935                             \hyperlink{structSAssetCommand}{SAssetCommand} AttackCommand; \textcolor{comment}{// Create missle}
936                             \textcolor{keyword}{auto} ArrowAsset = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa88767aa8e02c7b3192bbab4127b3d729}{pcNone}]->CreateAsset(\textcolor{stringliteral}{"None"});
937                             \textcolor{keywordtype}{int} Damage = Asset->EffectiveBasicDamage() - CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->EffectiveArmor();
938                             Damage = 0 > Damage ? 0 : Damage;
939                             Damage += Asset->EffectivePiercingDamage();
940                             \textcolor{keywordflow}{if}(\hyperlink{classCGameModel_a3fb9b6b40f397c022087f381f63954b9}{DRandomNumberGenerator}.
      \hyperlink{classCRandomNumberGenerator_aa7fc51bde5647d15df2f1b9826702ca2}{Random}() & 0x1)\{ \textcolor{comment}{// 50% chance half damage}
941                                 Damage /= 2;
942                             \}
943                             
944                             TempEvent.\hyperlink{structSGameEvent_afa10562e243f4ac2b473b655cc58fee7}{DType} = \hyperlink{GameModel_8h_abfcf510bafec7c6429906a6ecaac656dae891b2dee1677bb6a343c0ca8c01fa0e}{etMissleFire};
945                             TempEvent.\hyperlink{structSGameEvent_a40c85eeac83b96887b7449c9bdc5d624}{DAsset} = Asset;
946                             CurrentEvents.push\_back(TempEvent);
947                             
948                             ArrowAsset->HitPoints(Damage);
949                             ArrowAsset->Position(Asset->Position());
950                             \textcolor{keywordflow}{if}(ArrowAsset->PositionX() < ClosestTargetPosition.\hyperlink{classCPosition_a9a6b94d3b91df1492d166d9964c865fc}{X}())\{
951                                 ArrowAsset->PositionX(ArrowAsset->PositionX() + 
      \hyperlink{classCPosition_a4b799a0fb78ddd8bbd8548980e2458af}{CPosition::HalfTileWidth}());
952                             \}
953                             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ArrowAsset->PositionX() > ClosestTargetPosition.
      \hyperlink{classCPosition_a9a6b94d3b91df1492d166d9964c865fc}{X}())\{
954                                 ArrowAsset->PositionX(ArrowAsset->PositionX() - 
      \hyperlink{classCPosition_a4b799a0fb78ddd8bbd8548980e2458af}{CPosition::HalfTileWidth}());
955                             \}
956                             
957                             \textcolor{keywordflow}{if}(ArrowAsset->PositionY() < ClosestTargetPosition.\hyperlink{classCPosition_a1aa8a30e2f08dda1f797736ba8c13a87}{Y}())\{
958                                 ArrowAsset->PositionY(ArrowAsset->PositionY() + 
      \hyperlink{classCPosition_a5e371060b1aa0d3d3c5df1e353e0e5fd}{CPosition::HalfTileHeight}());
959                             \}
960                             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(ArrowAsset->PositionY() > ClosestTargetPosition.
      \hyperlink{classCPosition_a1aa8a30e2f08dda1f797736ba8c13a87}{Y}())\{
961                                 ArrowAsset->PositionY(ArrowAsset->PositionY() - 
      \hyperlink{classCPosition_a5e371060b1aa0d3d3c5df1e353e0e5fd}{CPosition::HalfTileHeight}());
962                             \}
963                             ArrowAsset->Direction(AttackDirection);
964                             AttackCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d}{aaConstruct};
965                             AttackCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = Asset;
966                             ArrowAsset->PushCommand(AttackCommand);
967                             AttackCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d}{aaAttack};
968                             AttackCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = CurrentCommand.
      \hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget};
969                             ArrowAsset->PushCommand(AttackCommand);
970                         \}
971                         \textcolor{keywordflow}{if}(Asset->Step() >= (Asset->AttackSteps() + Asset->ReloadSteps()))\{
972                            Asset->ResetStep();
973                         \}
974                     \}
975                 \}
976             \}
977             \textcolor{keywordflow}{else}\{
978                 \hyperlink{structSAssetCommand}{SAssetCommand} NextCommand = Asset->NextCommand();
979                 
980                 Asset->PopCommand();
981                 \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3}{aaStandGround} != NextCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
982                     \textcolor{keyword}{auto} NewTarget = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->FindNearestEnemy(Asset->Position(), 
      Asset->EffectiveSight());
983 
984                     \textcolor{keywordflow}{if}(!NewTarget.expired())\{
985                         CurrentCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = NewTarget.lock();
986                         Asset->PushCommand(CurrentCommand);
987                         Asset->ResetStep();
988                     \}
989                 \}
990             \}
991         \}
992         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154}{aaConveyLumber} == Asset->Action())||(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a}{aaConveyGold} == Asset->
      Action()))\{
993             Asset->IncrementStep();
994             \textcolor{keywordflow}{if}(DConveySteps <= Asset->Step())\{
995                 \hyperlink{structSAssetCommand}{SAssetCommand} Command = Asset->CurrentCommand();
996                 \hyperlink{classCPosition}{CPosition} NextTarget(\hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->Width()-1,
      \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->Height()-1);
997                 
998                 \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->IncrementGold(Asset->Gold());
999                 \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->IncrementLumber(Asset->Lumber());
1000                 Asset->Gold(0);
1001                 Asset->Lumber(0);
1002                 Asset->PopCommand();
1003                 Asset->ResetStep();
1004                 \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507}{aaNone} != Asset->Action())\{
1005                     NextTarget = Asset->CurrentCommand().DAssetTarget->TilePosition();
1006                 \}
1007                 Asset->TilePosition(\hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->FindAssetPlacement(Asset
      , Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}, NextTarget));
1008             \}
1009         \}
1010         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d}{aaConstruct} == Asset->Action())\{
1011             \hyperlink{structSAssetCommand}{SAssetCommand} Command = Asset->CurrentCommand();
1012             \textcolor{keywordflow}{if}(Command.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability})\{
1013                 \textcolor{keywordflow}{if}(Command.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability}->IncrementStep())\{
1014                     \textcolor{comment}{// All Done    }
1015                 \}
1016             \}   
1017         \}
1018         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df}{aaDeath} == Asset->Action())\{
1019             Asset->IncrementStep();
1020             \textcolor{keywordflow}{if}(Asset->Step() > \hyperlink{classCGameModel_a8067a8f3737b0f1d6fced523926ce167}{DDeathSteps})\{
1021                 \textcolor{keywordflow}{if}(Asset->Speed())\{
1022                     \hyperlink{structSAssetCommand}{SAssetCommand} DecayCommand;
1023                     \textcolor{comment}{// Create corpse}
1024                     \textcolor{keyword}{auto} CorpseAsset = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa88767aa8e02c7b3192bbab4127b3d729}{pcNone}]->CreateAsset(\textcolor{stringliteral}{"None"});
1025                     
1026                     DecayCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a5529d58a84a26b10744433d7bf171451}{aaDecay};
1027                     CorpseAsset->Position(Asset->Position());
1028                     CorpseAsset->Direction(Asset->Direction());
1029                     CorpseAsset->PushCommand(DecayCommand);
1030                     
1031                 \}
1032                 \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->DeleteAsset(Asset);
1033             \}
1034         \}
1035         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a5529d58a84a26b10744433d7bf171451}{aaDecay} == Asset->Action())\{
1036             Asset->IncrementStep();
1037             \textcolor{keywordflow}{if}(Asset->Step() > \hyperlink{classCGameModel_ac4a0ea3659c796b1c4f8b1f91d0e3258}{DDecaySteps})\{
1038                 \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->DeleteAsset(Asset);
1039             \}
1040         \}
1041         
1042         \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk} == Asset->Action())\{
1043             \textcolor{keywordflow}{if}(Asset->TileAligned())\{
1044                 \hyperlink{structSAssetCommand}{SAssetCommand} Command = Asset->CurrentCommand();
1045                 \hyperlink{structSAssetCommand}{SAssetCommand} NextCommand = Asset->NextCommand();
1046                 \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection} TravelDirection;
1047                 \hyperlink{classCPosition}{CPosition} MapTarget = Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClosestPosition(Asset->
      Position());
1048                 
1049                 \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d}{aaAttack} == NextCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
1050                     \textcolor{comment}{// Check to see if can attack now}
1051                     \textcolor{keywordflow}{if}(NextCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget}->ClosestPosition(Asset->Position()).
      DistanceSquared( Asset->Position() ) <= \hyperlink{GameModel_8cpp_afd5c111a1369dc53d1b1230506e99f7c}{RangeToDistanceSquared}(Asset->EffectiveRange()))\{
1052                         Asset->PopCommand();
1053                         Asset->ResetStep();
1054                         \textcolor{keywordflow}{continue};   
1055                     \}
1056                 \}
1057                 TravelDirection = \hyperlink{classCGameModel_a37d0b5536c88a3e6ec16f46e7a413adf}{DRouterMap}.\hyperlink{classCRouterMap_ac638dca74d6ebe3602db9f7c69881146}{FindRoute}(*
      \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap(), *Asset, MapTarget);
1058                 \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax} != TravelDirection)\{
1059                     Asset->Direction(TravelDirection);
1060                 \}
1061                 \textcolor{keywordflow}{else}\{
1062                     \hyperlink{classCPosition}{CPosition} TilePosition;
1063                     TilePosition.\hyperlink{classCPosition_ae302aa21792de64c97de29e2cbbfeb94}{SetToTile}(MapTarget);
1064                     \textcolor{keywordflow}{if}((TilePosition == Asset->TilePosition())||(\hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax} != Asset->TilePosition().
      AdjacentTileDirection(TilePosition)))\{
1065                         Asset->PopCommand();
1066                         Asset->ResetStep();
1067                         \textcolor{keywordflow}{continue};    
1068                     \}
1069                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee}{aaHarvestLumber} == NextCommand.
      \hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction})\{
1070                         \hyperlink{classCPosition}{CPosition} NewPosition = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->PlayerMap()->
      FindNearestReachableTileType(Asset->TilePosition(), \hyperlink{classCTerrainMap_aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c}{CTerrainMap::ttTree});
1071                         \textcolor{comment}{// Find new lumber}
1072                         Asset->PopCommand();
1073                         Asset->PopCommand();
1074                         \textcolor{keywordflow}{if}(0 <= NewPosition.\hyperlink{classCPosition_a9a6b94d3b91df1492d166d9964c865fc}{X}())\{
1075                             NewPosition.\hyperlink{classCPosition_a46994e6a8b8e3b4237edd7259ad844b6}{SetFromTile}(NewPosition);
1076                             Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee}{aaHarvestLumber};
1077                             Command.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[Asset->Color()]->
      CreateMarker(NewPosition, \textcolor{keyword}{false});
1078                             Asset->PushCommand(Command);
1079                             Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
1080                             Asset->PushCommand(Command);
1081                             Asset->ResetStep();
1082                             \textcolor{keywordflow}{continue};
1083                         \}
1084                     \}
1085                     \textcolor{keywordflow}{else}\{
1086                         Command.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507}{aaNone};
1087                         Asset->PushCommand(Command);
1088                         Asset->ResetStep();
1089                         \textcolor{keywordflow}{continue};    
1090                     \}
1091                 \}
1092             \}
1093 
1094             \textcolor{keywordflow}{if}(!Asset->MoveStep(DAssetOccupancyMap, DDiagonalOccupancyMap))\{
1095                 Asset->Direction((\hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42}{EDirection})((Asset->Position().TileOctant() + 
      \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax}/2) % \hyperlink{GameDataTypes_8h_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319}{dMax}));
1096          
1097             \}
1098         \}
1099     \}
1100     \hyperlink{classCGameModel_a80bf86a6c1d75229d5d0f441f6313a1c}{DGameCycle}++;
1101     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} PlayerIndex = 0; PlayerIndex < \hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pcMax}; PlayerIndex++)\{
1102         \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[PlayerIndex]->IncrementCycle();
1103         \hyperlink{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{DPlayers}[PlayerIndex]->AppendGameEvents(CurrentEvents);
1104     \}
1105 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f_cgraph}
\end{center}
\end{figure}
\hypertarget{classCGameModel_a5e6e46dd32a655e2a4432aeb134cc7e3}{}\label{classCGameModel_a5e6e46dd32a655e2a4432aeb134cc7e3} 
\index{C\+Game\+Model@{C\+Game\+Model}!Valid\+Asset@{Valid\+Asset}}
\index{Valid\+Asset@{Valid\+Asset}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{Valid\+Asset()}{ValidAsset()}}
{\footnotesize\ttfamily bool C\+Game\+Model\+::\+Valid\+Asset (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{asset }\end{DoxyParamCaption})}



Definition at line 503 of file Game\+Model.\+cpp.


\begin{DoxyCode}
503                                                               \{
504     \textcolor{keywordflow}{for}(\textcolor{keyword}{auto} &Asset : \hyperlink{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{DActualMap}->Assets())\{
505         \textcolor{keywordflow}{if}(asset == Asset)\{
506             \textcolor{keywordflow}{return} \textcolor{keyword}{true};    
507         \}
508     \}
509     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
510 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee}{}\label{classCGameModel_ace04c3b62d6b71e20d1ed5460c0c3cee} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Actual\+Map@{D\+Actual\+Map}}
\index{D\+Actual\+Map@{D\+Actual\+Map}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Actual\+Map}{DActualMap}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \hyperlink{classCAssetDecoratedMap}{C\+Asset\+Decorated\+Map} $>$ C\+Game\+Model\+::\+D\+Actual\+Map\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 166 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a2207654c461a3654c6d765dd5421373f}{}\label{classCGameModel_a2207654c461a3654c6d765dd5421373f} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Asset\+Occupancy\+Map@{D\+Asset\+Occupancy\+Map}}
\index{D\+Asset\+Occupancy\+Map@{D\+Asset\+Occupancy\+Map}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Asset\+Occupancy\+Map}{DAssetOccupancyMap}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ $>$ $>$ C\+Game\+Model\+::\+D\+Asset\+Occupancy\+Map\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 167 of file Game\+Model.\+h.

\hypertarget{classCGameModel_ad322487a9b50d395fe69c7ad95b71a10}{}\label{classCGameModel_ad322487a9b50d395fe69c7ad95b71a10} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Convey\+Steps@{D\+Convey\+Steps}}
\index{D\+Convey\+Steps@{D\+Convey\+Steps}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Convey\+Steps}{DConveySteps}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Convey\+Steps\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 178 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a4452faa5aa4b062cde343ccd24166232}{}\label{classCGameModel_a4452faa5aa4b062cde343ccd24166232} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Convey\+Time@{D\+Convey\+Time}}
\index{D\+Convey\+Time@{D\+Convey\+Time}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Convey\+Time}{DConveyTime}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Convey\+Time\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 177 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a8067a8f3737b0f1d6fced523926ce167}{}\label{classCGameModel_a8067a8f3737b0f1d6fced523926ce167} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Death\+Steps@{D\+Death\+Steps}}
\index{D\+Death\+Steps@{D\+Death\+Steps}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Death\+Steps}{DDeathSteps}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Death\+Steps\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 180 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a2ddf991af7749f946a4fe242b2397b9a}{}\label{classCGameModel_a2ddf991af7749f946a4fe242b2397b9a} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Death\+Time@{D\+Death\+Time}}
\index{D\+Death\+Time@{D\+Death\+Time}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Death\+Time}{DDeathTime}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Death\+Time\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 179 of file Game\+Model.\+h.

\hypertarget{classCGameModel_ac4a0ea3659c796b1c4f8b1f91d0e3258}{}\label{classCGameModel_ac4a0ea3659c796b1c4f8b1f91d0e3258} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Decay\+Steps@{D\+Decay\+Steps}}
\index{D\+Decay\+Steps@{D\+Decay\+Steps}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Decay\+Steps}{DDecaySteps}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Decay\+Steps\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 182 of file Game\+Model.\+h.

\hypertarget{classCGameModel_abd062550cd4f0f9286f78f3195fe2f71}{}\label{classCGameModel_abd062550cd4f0f9286f78f3195fe2f71} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Decay\+Time@{D\+Decay\+Time}}
\index{D\+Decay\+Time@{D\+Decay\+Time}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Decay\+Time}{DDecayTime}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Decay\+Time\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 181 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a30e26a862e4eb282a275ed192017c248}{}\label{classCGameModel_a30e26a862e4eb282a275ed192017c248} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Diagonal\+Occupancy\+Map@{D\+Diagonal\+Occupancy\+Map}}
\index{D\+Diagonal\+Occupancy\+Map@{D\+Diagonal\+Occupancy\+Map}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Diagonal\+Occupancy\+Map}{DDiagonalOccupancyMap}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::vector$<$ bool $>$ $>$ C\+Game\+Model\+::\+D\+Diagonal\+Occupancy\+Map\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 168 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a80bf86a6c1d75229d5d0f441f6313a1c}{}\label{classCGameModel_a80bf86a6c1d75229d5d0f441f6313a1c} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Game\+Cycle@{D\+Game\+Cycle}}
\index{D\+Game\+Cycle@{D\+Game\+Cycle}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Game\+Cycle}{DGameCycle}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Game\+Cycle\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 172 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a886529fe17365373d28c2881fdaa21f0}{}\label{classCGameModel_a886529fe17365373d28c2881fdaa21f0} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Gold\+Per\+Mining@{D\+Gold\+Per\+Mining}}
\index{D\+Gold\+Per\+Mining@{D\+Gold\+Per\+Mining}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Gold\+Per\+Mining}{DGoldPerMining}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Gold\+Per\+Mining\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 184 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a719733742e1340921a12efce992b07fe}{}\label{classCGameModel_a719733742e1340921a12efce992b07fe} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Harvest\+Steps@{D\+Harvest\+Steps}}
\index{D\+Harvest\+Steps@{D\+Harvest\+Steps}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Harvest\+Steps}{DHarvestSteps}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Harvest\+Steps\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 174 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a0160295e3cf06b7bbcb9247bc49e3156}{}\label{classCGameModel_a0160295e3cf06b7bbcb9247bc49e3156} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Harvest\+Time@{D\+Harvest\+Time}}
\index{D\+Harvest\+Time@{D\+Harvest\+Time}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Harvest\+Time}{DHarvestTime}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Harvest\+Time\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 173 of file Game\+Model.\+h.

\hypertarget{classCGameModel_ae0bad49626fc5b7bdf8b3fe6a4187462}{}\label{classCGameModel_ae0bad49626fc5b7bdf8b3fe6a4187462} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Lumber\+Available@{D\+Lumber\+Available}}
\index{D\+Lumber\+Available@{D\+Lumber\+Available}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Lumber\+Available}{DLumberAvailable}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::vector$<$ int $>$ $>$ C\+Game\+Model\+::\+D\+Lumber\+Available\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 171 of file Game\+Model.\+h.

\hypertarget{classCGameModel_abfa4628f678b64ecfefb9f56150d906f}{}\label{classCGameModel_abfa4628f678b64ecfefb9f56150d906f} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Lumber\+Per\+Harvest@{D\+Lumber\+Per\+Harvest}}
\index{D\+Lumber\+Per\+Harvest@{D\+Lumber\+Per\+Harvest}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Lumber\+Per\+Harvest}{DLumberPerHarvest}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Lumber\+Per\+Harvest\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 183 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a9f3d8b652f62a0a1b993cb2402800203}{}\label{classCGameModel_a9f3d8b652f62a0a1b993cb2402800203} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Mine\+Steps@{D\+Mine\+Steps}}
\index{D\+Mine\+Steps@{D\+Mine\+Steps}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Mine\+Steps}{DMineSteps}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Mine\+Steps\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 176 of file Game\+Model.\+h.

\hypertarget{classCGameModel_ab7bd9d3b4852d539aa605177ae2f27e8}{}\label{classCGameModel_ab7bd9d3b4852d539aa605177ae2f27e8} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Mine\+Time@{D\+Mine\+Time}}
\index{D\+Mine\+Time@{D\+Mine\+Time}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Mine\+Time}{DMineTime}}
{\footnotesize\ttfamily int C\+Game\+Model\+::\+D\+Mine\+Time\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 175 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc}{}\label{classCGameModel_a524436c3560b10e1c6d6fdd0b66565dc} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Players@{D\+Players}}
\index{D\+Players@{D\+Players}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Players}{DPlayers}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ C\+Game\+Model\+::\+D\+Players\mbox{[}\hyperlink{GameDataTypes_8h_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34}{pc\+Max}\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 170 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a3fb9b6b40f397c022087f381f63954b9}{}\label{classCGameModel_a3fb9b6b40f397c022087f381f63954b9} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Random\+Number\+Generator@{D\+Random\+Number\+Generator}}
\index{D\+Random\+Number\+Generator@{D\+Random\+Number\+Generator}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Random\+Number\+Generator}{DRandomNumberGenerator}}
{\footnotesize\ttfamily \hyperlink{classCRandomNumberGenerator}{C\+Random\+Number\+Generator} C\+Game\+Model\+::\+D\+Random\+Number\+Generator\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 165 of file Game\+Model.\+h.

\hypertarget{classCGameModel_a37d0b5536c88a3e6ec16f46e7a413adf}{}\label{classCGameModel_a37d0b5536c88a3e6ec16f46e7a413adf} 
\index{C\+Game\+Model@{C\+Game\+Model}!D\+Router\+Map@{D\+Router\+Map}}
\index{D\+Router\+Map@{D\+Router\+Map}!C\+Game\+Model@{C\+Game\+Model}}
\subsubsection{\texorpdfstring{D\+Router\+Map}{DRouterMap}}
{\footnotesize\ttfamily \hyperlink{classCRouterMap}{C\+Router\+Map} C\+Game\+Model\+::\+D\+Router\+Map\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 169 of file Game\+Model.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\hyperlink{GameModel_8h}{Game\+Model.\+h}\item 
src/\hyperlink{GameModel_8cpp}{Game\+Model.\+cpp}\end{DoxyCompactItemize}
