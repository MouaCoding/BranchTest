\hypertarget{classCPlayerCapabilityBuildNormal}{}\section{C\+Player\+Capability\+Build\+Normal Class Reference}
\label{classCPlayerCapabilityBuildNormal}\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}


Inheritance diagram for C\+Player\+Capability\+Build\+Normal\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{classCPlayerCapabilityBuildNormal__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for C\+Player\+Capability\+Build\+Normal\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildNormal__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classCPlayerCapabilityBuildNormal_1_1CActivatedCapability}{C\+Activated\+Capability}
\item 
class \hyperlink{classCPlayerCapabilityBuildNormal_1_1CRegistrant}{C\+Registrant}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual \hyperlink{classCPlayerCapabilityBuildNormal_aed39be621a98ed6d1aaf470cd5bf1ff5}{$\sim$\+C\+Player\+Capability\+Build\+Normal} ()
\item 
bool \hyperlink{classCPlayerCapabilityBuildNormal_a5487e5521779846198604e8ebadaf283}{Can\+Initiate} (std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ actor, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ playerdata)
\item 
bool \hyperlink{classCPlayerCapabilityBuildNormal_a1a8c6fdd9d8a91ecb7417163279e2276}{Can\+Apply} (std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ actor, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ playerdata, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ target)
\item 
bool \hyperlink{classCPlayerCapabilityBuildNormal_afc2fbda17580385a4028d44cd03c9149}{Apply\+Capability} (std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ actor, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$ playerdata, std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$ target)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCPlayerCapabilityBuildNormal_a36157bf1a2875f0831b646dd2313a464}{C\+Player\+Capability\+Build\+Normal} (const std\+::string \&buildingname)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \hyperlink{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c}{D\+Building\+Name}
\end{DoxyCompactItemize}
\subsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classCPlayerCapabilityBuildNormal_1_1CRegistrant}{C\+Registrant} \hyperlink{classCPlayerCapabilityBuildNormal_a486700cf2553e6ab77340152c9b03242}{D\+Registrant}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 21 of file Build\+Capabilities.\+cpp.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classCPlayerCapabilityBuildNormal_a36157bf1a2875f0831b646dd2313a464}{}\label{classCPlayerCapabilityBuildNormal_a36157bf1a2875f0831b646dd2313a464} 
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\subsubsection{\texorpdfstring{C\+Player\+Capability\+Build\+Normal()}{CPlayerCapabilityBuildNormal()}}
{\footnotesize\ttfamily C\+Player\+Capability\+Build\+Normal\+::\+C\+Player\+Capability\+Build\+Normal (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{buildingname }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 66 of file Build\+Capabilities.\+cpp.



References D\+Building\+Name.



Referenced by C\+Player\+Capability\+Build\+Normal\+::\+C\+Registrant\+::\+C\+Registrant().


\begin{DoxyCode}
66                                                                                         : 
      \hyperlink{classCPlayerCapability_a303de62aba5d3f65d9a8e013c64a96c1}{CPlayerCapability}(std::string(\textcolor{stringliteral}{"Build"}) + buildingname, 
      \hyperlink{classCPlayerCapability_a9d3450ed1532fd536bd6cbb1e2eef02fa67cc6d11bc0aafc1b786bd6557ba4aa2}{ttTerrainOrAsset})\{
67     \hyperlink{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c}{DBuildingName} = buildingname;
68 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildNormal_a36157bf1a2875f0831b646dd2313a464_icgraph}
\end{center}
\end{figure}
\hypertarget{classCPlayerCapabilityBuildNormal_aed39be621a98ed6d1aaf470cd5bf1ff5}{}\label{classCPlayerCapabilityBuildNormal_aed39be621a98ed6d1aaf470cd5bf1ff5} 
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!````~C\+Player\+Capability\+Build\+Normal@{$\sim$\+C\+Player\+Capability\+Build\+Normal}}
\index{````~C\+Player\+Capability\+Build\+Normal@{$\sim$\+C\+Player\+Capability\+Build\+Normal}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\subsubsection{\texorpdfstring{$\sim$\+C\+Player\+Capability\+Build\+Normal()}{~CPlayerCapabilityBuildNormal()}}
{\footnotesize\ttfamily virtual C\+Player\+Capability\+Build\+Normal\+::$\sim$\+C\+Player\+Capability\+Build\+Normal (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



Definition at line 48 of file Build\+Capabilities.\+cpp.



References Apply\+Capability(), Can\+Apply(), Can\+Initiate(), and D\+Registrant.


\begin{DoxyCode}
48 \{\};
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildNormal_aed39be621a98ed6d1aaf470cd5bf1ff5_cgraph}
\end{center}
\end{figure}


\subsection{Member Function Documentation}
\hypertarget{classCPlayerCapabilityBuildNormal_afc2fbda17580385a4028d44cd03c9149}{}\label{classCPlayerCapabilityBuildNormal_afc2fbda17580385a4028d44cd03c9149} 
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!Apply\+Capability@{Apply\+Capability}}
\index{Apply\+Capability@{Apply\+Capability}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\subsubsection{\texorpdfstring{Apply\+Capability()}{ApplyCapability()}}
{\footnotesize\ttfamily bool C\+Player\+Capability\+Build\+Normal\+::\+Apply\+Capability (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{actor,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$}]{playerdata,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \hyperlink{classCPlayerCapability_a2ca6fd7fbd9c0178f1cf1d049c63825f}{C\+Player\+Capability}.



Definition at line 109 of file Build\+Capabilities.\+cpp.



References aa\+Capability, aa\+Walk, C\+Player\+Capability\+::\+Asset\+Capability\+Type(), S\+Asset\+Command\+::\+D\+Action, S\+Asset\+Command\+::\+D\+Activated\+Capability, S\+Asset\+Command\+::\+D\+Asset\+Target, D\+Building\+Name, S\+Asset\+Command\+::\+D\+Capability, C\+Position\+::\+Set\+To\+Tile(), and C\+Player\+Asset\+::\+Update\+Frequency().



Referenced by $\sim$\+C\+Player\+Capability\+Build\+Normal().


\begin{DoxyCode}
109                                                                                                            
                                                               \{
110     \textcolor{keyword}{auto} Iterator = playerdata->AssetTypes()->find(\hyperlink{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c}{DBuildingName});
111     
112     \textcolor{keywordflow}{if}(Iterator != playerdata->AssetTypes()->end())\{
113         \hyperlink{structSAssetCommand}{SAssetCommand} NewCommand;
114         
115         actor->ClearCommand();
116         \textcolor{keywordflow}{if}(actor->TilePosition() == target->TilePosition())\{
117             \textcolor{keyword}{auto} AssetType = Iterator->second;
118             \textcolor{keyword}{auto} NewAsset = playerdata->CreateAsset(\hyperlink{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c}{DBuildingName});
119             \hyperlink{classCPosition}{CPosition} TilePosition;
120             TilePosition.\hyperlink{classCPosition_ae302aa21792de64c97de29e2cbbfeb94}{SetToTile}(target->Position());
121             NewAsset->TilePosition(TilePosition);
122             NewAsset->HitPoints(1);
123 
124             NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability};
125             NewCommand.\hyperlink{structSAssetCommand_a734ea7c6847457b437360f333f570ff9}{DCapability} = \hyperlink{classCPlayerCapability_a433bb196cd6ab6a932f1cac102b3aa98}{AssetCapabilityType}();
126             NewCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = NewAsset;
127             NewCommand.\hyperlink{structSAssetCommand_ad8beda19520811cc70fe1eab16c774dd}{DActivatedCapability} = std::make\_shared< CActivatedCapability >(
      actor, playerdata, NewAsset, AssetType->LumberCost(), AssetType->GoldCost(), 
      \hyperlink{classCPlayerAsset_a0aff85b9552967a42f4f3f42cb59c19f}{CPlayerAsset::UpdateFrequency}() * AssetType->BuildTime());
128             actor->PushCommand(NewCommand);
129         \}
130         \textcolor{keywordflow}{else}\{
131             NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4}{aaCapability};
132             NewCommand.\hyperlink{structSAssetCommand_a734ea7c6847457b437360f333f570ff9}{DCapability} = \hyperlink{classCPlayerCapability_a433bb196cd6ab6a932f1cac102b3aa98}{AssetCapabilityType}();
133             NewCommand.\hyperlink{structSAssetCommand_a3d9b43f6e59c386c48c41a65448a0c39}{DAssetTarget} = target;
134             actor->PushCommand(NewCommand);
135             
136             NewCommand.\hyperlink{structSAssetCommand_a8edd3b3d59a76d5514ba403bc8076a75}{DAction} = \hyperlink{GameDataTypes_8h_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276}{aaWalk};
137             actor->PushCommand(NewCommand);
138         \}
139         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
140     \}
141     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
142 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildNormal_afc2fbda17580385a4028d44cd03c9149_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildNormal_afc2fbda17580385a4028d44cd03c9149_icgraph}
\end{center}
\end{figure}
\hypertarget{classCPlayerCapabilityBuildNormal_a1a8c6fdd9d8a91ecb7417163279e2276}{}\label{classCPlayerCapabilityBuildNormal_a1a8c6fdd9d8a91ecb7417163279e2276} 
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!Can\+Apply@{Can\+Apply}}
\index{Can\+Apply@{Can\+Apply}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\subsubsection{\texorpdfstring{Can\+Apply()}{CanApply()}}
{\footnotesize\ttfamily bool C\+Player\+Capability\+Build\+Normal\+::\+Can\+Apply (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{actor,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$}]{playerdata,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{target }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \hyperlink{classCPlayerCapability_ae96263e0950f496492f8baeb877b9554}{C\+Player\+Capability}.



Definition at line 86 of file Build\+Capabilities.\+cpp.



References at\+None, and D\+Building\+Name.



Referenced by $\sim$\+C\+Player\+Capability\+Build\+Normal().


\begin{DoxyCode}
86                                                                                                            
                                                        \{
87     \textcolor{keyword}{auto} Iterator = playerdata->AssetTypes()->find(\hyperlink{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c}{DBuildingName});
88     
89     \textcolor{keywordflow}{if}((actor != target)&&(\hyperlink{GameDataTypes_8h_a5600d4fc433b83300308921974477feca82fb51718e2c00981a2d37bc6fe92593}{atNone} != target->Type()))\{
90         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
91     \}
92     \textcolor{keywordflow}{if}(Iterator != playerdata->AssetTypes()->end())\{
93         \textcolor{keyword}{auto} AssetType = Iterator->second;
94 
95         \textcolor{keywordflow}{if}(AssetType->LumberCost() > playerdata->Lumber())\{
96             \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
97         \}
98         \textcolor{keywordflow}{if}(AssetType->GoldCost() > playerdata->Gold())\{
99             \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
100         \}
101         \textcolor{keywordflow}{if}(!playerdata->PlayerMap()->CanPlaceAsset(target->TilePosition(), AssetType->Size(), actor))\{
102             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
103         \}
104     \}
105 
106     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
107 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildNormal_a1a8c6fdd9d8a91ecb7417163279e2276_icgraph}
\end{center}
\end{figure}
\hypertarget{classCPlayerCapabilityBuildNormal_a5487e5521779846198604e8ebadaf283}{}\label{classCPlayerCapabilityBuildNormal_a5487e5521779846198604e8ebadaf283} 
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!Can\+Initiate@{Can\+Initiate}}
\index{Can\+Initiate@{Can\+Initiate}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\subsubsection{\texorpdfstring{Can\+Initiate()}{CanInitiate()}}
{\footnotesize\ttfamily bool C\+Player\+Capability\+Build\+Normal\+::\+Can\+Initiate (\begin{DoxyParamCaption}\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerAsset}{C\+Player\+Asset} $>$}]{actor,  }\item[{std\+::shared\+\_\+ptr$<$ \hyperlink{classCPlayerData}{C\+Player\+Data} $>$}]{playerdata }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \hyperlink{classCPlayerCapability_aa83b1e1fcaff2985c378132d679154ea}{C\+Player\+Capability}.



Definition at line 70 of file Build\+Capabilities.\+cpp.



References D\+Building\+Name.



Referenced by $\sim$\+C\+Player\+Capability\+Build\+Normal().


\begin{DoxyCode}
70                                                                                                            
                     \{
71     \textcolor{keyword}{auto} Iterator = playerdata->AssetTypes()->find(\hyperlink{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c}{DBuildingName});
72     
73     \textcolor{keywordflow}{if}(Iterator != playerdata->AssetTypes()->end())\{
74         \textcolor{keyword}{auto} AssetType = Iterator->second;
75         \textcolor{keywordflow}{if}(AssetType->LumberCost() > playerdata->Lumber())\{
76             \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
77         \}
78         \textcolor{keywordflow}{if}(AssetType->GoldCost() > playerdata->Gold())\{
79             \textcolor{keywordflow}{return} \textcolor{keyword}{false};   
80         \}
81     \}
82     
83     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
84 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCPlayerCapabilityBuildNormal_a5487e5521779846198604e8ebadaf283_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\hypertarget{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c}{}\label{classCPlayerCapabilityBuildNormal_aae09d6cee5f8e201a0139c9065a5577c} 
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!D\+Building\+Name@{D\+Building\+Name}}
\index{D\+Building\+Name@{D\+Building\+Name}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\subsubsection{\texorpdfstring{D\+Building\+Name}{DBuildingName}}
{\footnotesize\ttfamily std\+::string C\+Player\+Capability\+Build\+Normal\+::\+D\+Building\+Name\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 44 of file Build\+Capabilities.\+cpp.



Referenced by Apply\+Capability(), Can\+Apply(), Can\+Initiate(), and C\+Player\+Capability\+Build\+Normal().

\hypertarget{classCPlayerCapabilityBuildNormal_a486700cf2553e6ab77340152c9b03242}{}\label{classCPlayerCapabilityBuildNormal_a486700cf2553e6ab77340152c9b03242} 
\index{C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}!D\+Registrant@{D\+Registrant}}
\index{D\+Registrant@{D\+Registrant}!C\+Player\+Capability\+Build\+Normal@{C\+Player\+Capability\+Build\+Normal}}
\subsubsection{\texorpdfstring{D\+Registrant}{DRegistrant}}
{\footnotesize\ttfamily \hyperlink{classCPlayerCapabilityBuildNormal_1_1CRegistrant}{C\+Player\+Capability\+Build\+Normal\+::\+C\+Registrant} C\+Player\+Capability\+Build\+Normal\+::\+D\+Registrant\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}



Definition at line 27 of file Build\+Capabilities.\+cpp.



Referenced by $\sim$\+C\+Player\+Capability\+Build\+Normal().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\hyperlink{BuildCapabilities_8cpp}{Build\+Capabilities.\+cpp}\end{DoxyCompactItemize}
