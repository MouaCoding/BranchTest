<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ECS 160 Project: CGameModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ECS 160 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classCGameModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CGameModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="GameModel_8h_source.html">GameModel.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CGameModel:</div>
<div class="dyncontent">
<div class="center"><img src="classCGameModel__coll__graph.png" border="0" usemap="#CGameModel_coll__map" alt="Collaboration graph"/></div>
<map name="CGameModel_coll__map" id="CGameModel_coll__map">
<area shape="rect" id="node2" href="classCRouterMap.html" title="CRouterMap" alt="" coords="5,5,108,32"/>
<area shape="rect" id="node3" href="classCRandomNumberGenerator.html" title="CRandomNumberGenerator" alt="" coords="132,5,336,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a37858821d1294b21b374cf4f81052f3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a37858821d1294b21b374cf4f81052f3e">CGameModel</a> (int mapindex, uint64_t seed, <a class="el" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602f">EPlayerColor</a> newcolors[<a class="el" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a>])</td></tr>
<tr class="separator:a37858821d1294b21b374cf4f81052f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af27947dce7cc0fa2dc9ec81872e26264"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#af27947dce7cc0fa2dc9ec81872e26264">GameCycle</a> () const</td></tr>
<tr class="separator:af27947dce7cc0fa2dc9ec81872e26264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6e46dd32a655e2a4432aeb134cc7e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a5e6e46dd32a655e2a4432aeb134cc7e3">ValidAsset</a> (std::shared_ptr&lt; <a class="el" href="classCPlayerAsset.html">CPlayerAsset</a> &gt; asset)</td></tr>
<tr class="separator:a5e6e46dd32a655e2a4432aeb134cc7e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b95d8fb5d96d3dd9ad3596e1a90f6a3"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classCAssetDecoratedMap.html">CAssetDecoratedMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a7b95d8fb5d96d3dd9ad3596e1a90f6a3">Map</a> () const</td></tr>
<tr class="separator:a7b95d8fb5d96d3dd9ad3596e1a90f6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9c8def41d5369661fab971b9a4fe786"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classCPlayerData.html">CPlayerData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#ad9c8def41d5369661fab971b9a4fe786">Player</a> (<a class="el" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602f">EPlayerColor</a> color) const</td></tr>
<tr class="separator:ad9c8def41d5369661fab971b9a4fe786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699325d41d7ff27bda47bfb3048cfd8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a699325d41d7ff27bda47bfb3048cfd8f">Timestep</a> ()</td></tr>
<tr class="separator:a699325d41d7ff27bda47bfb3048cfd8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7591a4e79f91a048462bce532fd4eca1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a7591a4e79f91a048462bce532fd4eca1">ClearGameEvents</a> ()</td></tr>
<tr class="separator:a7591a4e79f91a048462bce532fd4eca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3fb9b6b40f397c022087f381f63954b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCRandomNumberGenerator.html">CRandomNumberGenerator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a3fb9b6b40f397c022087f381f63954b9">DRandomNumberGenerator</a></td></tr>
<tr class="separator:a3fb9b6b40f397c022087f381f63954b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace04c3b62d6b71e20d1ed5460c0c3cee"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classCAssetDecoratedMap.html">CAssetDecoratedMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a></td></tr>
<tr class="separator:ace04c3b62d6b71e20d1ed5460c0c3cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2207654c461a3654c6d765dd5421373f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="classCPlayerAsset.html">CPlayerAsset</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a2207654c461a3654c6d765dd5421373f">DAssetOccupancyMap</a></td></tr>
<tr class="separator:a2207654c461a3654c6d765dd5421373f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e26a862e4eb282a275ed192017c248"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; bool &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a30e26a862e4eb282a275ed192017c248">DDiagonalOccupancyMap</a></td></tr>
<tr class="separator:a30e26a862e4eb282a275ed192017c248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d0b5536c88a3e6ec16f46e7a413adf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCRouterMap.html">CRouterMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a37d0b5536c88a3e6ec16f46e7a413adf">DRouterMap</a></td></tr>
<tr class="separator:a37d0b5536c88a3e6ec16f46e7a413adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a524436c3560b10e1c6d6fdd0b66565dc"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classCPlayerData.html">CPlayerData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a> [<a class="el" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a>]</td></tr>
<tr class="separator:a524436c3560b10e1c6d6fdd0b66565dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bad49626fc5b7bdf8b3fe6a4187462"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#ae0bad49626fc5b7bdf8b3fe6a4187462">DLumberAvailable</a></td></tr>
<tr class="separator:ae0bad49626fc5b7bdf8b3fe6a4187462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80bf86a6c1d75229d5d0f441f6313a1c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a80bf86a6c1d75229d5d0f441f6313a1c">DGameCycle</a></td></tr>
<tr class="separator:a80bf86a6c1d75229d5d0f441f6313a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0160295e3cf06b7bbcb9247bc49e3156"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a0160295e3cf06b7bbcb9247bc49e3156">DHarvestTime</a></td></tr>
<tr class="separator:a0160295e3cf06b7bbcb9247bc49e3156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719733742e1340921a12efce992b07fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a719733742e1340921a12efce992b07fe">DHarvestSteps</a></td></tr>
<tr class="separator:a719733742e1340921a12efce992b07fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7bd9d3b4852d539aa605177ae2f27e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#ab7bd9d3b4852d539aa605177ae2f27e8">DMineTime</a></td></tr>
<tr class="separator:ab7bd9d3b4852d539aa605177ae2f27e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f3d8b652f62a0a1b993cb2402800203"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a9f3d8b652f62a0a1b993cb2402800203">DMineSteps</a></td></tr>
<tr class="separator:a9f3d8b652f62a0a1b993cb2402800203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4452faa5aa4b062cde343ccd24166232"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a4452faa5aa4b062cde343ccd24166232">DConveyTime</a></td></tr>
<tr class="separator:a4452faa5aa4b062cde343ccd24166232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad322487a9b50d395fe69c7ad95b71a10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#ad322487a9b50d395fe69c7ad95b71a10">DConveySteps</a></td></tr>
<tr class="separator:ad322487a9b50d395fe69c7ad95b71a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ddf991af7749f946a4fe242b2397b9a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a2ddf991af7749f946a4fe242b2397b9a">DDeathTime</a></td></tr>
<tr class="separator:a2ddf991af7749f946a4fe242b2397b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8067a8f3737b0f1d6fced523926ce167"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a8067a8f3737b0f1d6fced523926ce167">DDeathSteps</a></td></tr>
<tr class="separator:a8067a8f3737b0f1d6fced523926ce167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd062550cd4f0f9286f78f3195fe2f71"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#abd062550cd4f0f9286f78f3195fe2f71">DDecayTime</a></td></tr>
<tr class="separator:abd062550cd4f0f9286f78f3195fe2f71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a0ea3659c796b1c4f8b1f91d0e3258"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#ac4a0ea3659c796b1c4f8b1f91d0e3258">DDecaySteps</a></td></tr>
<tr class="separator:ac4a0ea3659c796b1c4f8b1f91d0e3258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa4628f678b64ecfefb9f56150d906f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#abfa4628f678b64ecfefb9f56150d906f">DLumberPerHarvest</a></td></tr>
<tr class="separator:abfa4628f678b64ecfefb9f56150d906f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886529fe17365373d28c2881fdaa21f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCGameModel.html#a886529fe17365373d28c2881fdaa21f0">DGoldPerMining</a></td></tr>
<tr class="separator:a886529fe17365373d28c2881fdaa21f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00163">163</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a37858821d1294b21b374cf4f81052f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37858821d1294b21b374cf4f81052f3e">&sect;&nbsp;</a></span>CGameModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CGameModel::CGameModel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mapindex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>seed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602f">EPlayerColor</a>&#160;</td>
          <td class="paramname"><em>newcolors</em>[pcMax]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8cpp_source.html#l00456">456</a> of file <a class="el" href="GameModel_8cpp_source.html">GameModel.cpp</a>.</p>

<p>References <a class="el" href="GameModel_8h_source.html#l00053">CPlayerData::DActualMap</a>, <a class="el" href="AssetDecoratedMap_8cpp_source.html#l00115">CAssetDecoratedMap::DuplicateMap()</a>, <a class="el" href="GameDataTypes_8h_source.html#l00030">pcMax</a>, <a class="el" href="TerrainMap_8h_source.html#l00031">CTerrainMap::ttTree</a>, and <a class="el" href="PlayerAsset_8h_source.html#l00342">CPlayerAsset::UpdateFrequency()</a>.</p>
<div class="fragment"><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                                                                                {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="classCGameModel.html#a0160295e3cf06b7bbcb9247bc49e3156">DHarvestTime</a> = 5;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="classCGameModel.html#a719733742e1340921a12efce992b07fe">DHarvestSteps</a> = <a class="code" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a>() * <a class="code" href="classCGameModel.html#a0160295e3cf06b7bbcb9247bc49e3156">DHarvestTime</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="classCGameModel.html#ab7bd9d3b4852d539aa605177ae2f27e8">DMineTime</a> = 5;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="classCGameModel.html#a9f3d8b652f62a0a1b993cb2402800203">DMineSteps</a> = <a class="code" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a>() * <a class="code" href="classCGameModel.html#ab7bd9d3b4852d539aa605177ae2f27e8">DMineTime</a>;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <a class="code" href="classCGameModel.html#a4452faa5aa4b062cde343ccd24166232">DConveyTime</a> = 1;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="classCGameModel.html#ad322487a9b50d395fe69c7ad95b71a10">DConveySteps</a> = <a class="code" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a>() * <a class="code" href="classCGameModel.html#a4452faa5aa4b062cde343ccd24166232">DConveyTime</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="classCGameModel.html#a2ddf991af7749f946a4fe242b2397b9a">DDeathTime</a> = 1;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="classCGameModel.html#a8067a8f3737b0f1d6fced523926ce167">DDeathSteps</a> = <a class="code" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a>() * <a class="code" href="classCGameModel.html#a2ddf991af7749f946a4fe242b2397b9a">DDeathTime</a>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <a class="code" href="classCGameModel.html#abd062550cd4f0f9286f78f3195fe2f71">DDecayTime</a> = 4;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="classCGameModel.html#ac4a0ea3659c796b1c4f8b1f91d0e3258">DDecaySteps</a> = <a class="code" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a>() * <a class="code" href="classCGameModel.html#abd062550cd4f0f9286f78f3195fe2f71">DDecayTime</a>;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <a class="code" href="classCGameModel.html#abfa4628f678b64ecfefb9f56150d906f">DLumberPerHarvest</a> = 100;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="classCGameModel.html#a886529fe17365373d28c2881fdaa21f0">DGoldPerMining</a> = 100;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    </div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <a class="code" href="classCGameModel.html#a3fb9b6b40f397c022087f381f63954b9">DRandomNumberGenerator</a>.<a class="code" href="classCRandomNumberGenerator.html#a9b6f52335ea93f1aaec4521c66806f39">Seed</a>(seed);</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a> = <a class="code" href="classCAssetDecoratedMap.html#a9d0fa2b32e4e8add6da83a7ebcfab6d8">CAssetDecoratedMap::DuplicateMap</a>(mapindex, newcolors);</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    </div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> PlayerIndex = 0; PlayerIndex &lt; <a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a>; PlayerIndex++){</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[PlayerIndex] = std::make_shared&lt; CPlayerData &gt; (<a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>, (<a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602f">EPlayerColor</a>)PlayerIndex);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="classCGameModel.html#a2207654c461a3654c6d765dd5421373f">DAssetOccupancyMap</a>.resize(<a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Height());</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Row : <a class="code" href="classCGameModel.html#a2207654c461a3654c6d765dd5421373f">DAssetOccupancyMap</a>){</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        Row.resize(<a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Width());</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="classCGameModel.html#a30e26a862e4eb282a275ed192017c248">DDiagonalOccupancyMap</a>.resize(<a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Height());</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Row : <a class="code" href="classCGameModel.html#a30e26a862e4eb282a275ed192017c248">DDiagonalOccupancyMap</a>){</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        Row.resize(<a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Width());</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    }</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    </div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <a class="code" href="classCGameModel.html#ae0bad49626fc5b7bdf8b3fe6a4187462">DLumberAvailable</a>.resize(<a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Height());</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Row : <a class="code" href="classCGameModel.html#ae0bad49626fc5b7bdf8b3fe6a4187462">DLumberAvailable</a>){</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        Row.resize(<a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Width());</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    }</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> Row = 0; Row &lt; <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Height(); Row++){</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> Col = 0; Col &lt; <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Width(); Col++){</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c">CTerrainMap::ttTree</a> == <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;TileType(Col, Row)){</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                DLumberAvailable[Row][Col] = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[0]-&gt;Lumber();      </div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            }</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">else</span>{</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                DLumberAvailable[Row][Col] = 0;    </div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            }</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        }</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    </div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;}</div><div class="ttc" id="classCGameModel_html_a9f3d8b652f62a0a1b993cb2402800203"><div class="ttname"><a href="classCGameModel.html#a9f3d8b652f62a0a1b993cb2402800203">CGameModel::DMineSteps</a></div><div class="ttdeci">int DMineSteps</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00176">GameModel.h:176</a></div></div>
<div class="ttc" id="classCGameModel_html_a719733742e1340921a12efce992b07fe"><div class="ttname"><a href="classCGameModel.html#a719733742e1340921a12efce992b07fe">CGameModel::DHarvestSteps</a></div><div class="ttdeci">int DHarvestSteps</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00174">GameModel.h:174</a></div></div>
<div class="ttc" id="classCGameModel_html_ac4a0ea3659c796b1c4f8b1f91d0e3258"><div class="ttname"><a href="classCGameModel.html#ac4a0ea3659c796b1c4f8b1f91d0e3258">CGameModel::DDecaySteps</a></div><div class="ttdeci">int DDecaySteps</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00182">GameModel.h:182</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_aafb0ca75933357ff28a6d7efbdd7602f"><div class="ttname"><a href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602f">EPlayerColor</a></div><div class="ttdeci">EPlayerColor</div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00020">GameDataTypes.h:20</a></div></div>
<div class="ttc" id="classCGameModel_html_ace04c3b62d6b71e20d1ed5460c0c3cee"><div class="ttname"><a href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">CGameModel::DActualMap</a></div><div class="ttdeci">std::shared_ptr&lt; CAssetDecoratedMap &gt; DActualMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00166">GameModel.h:166</a></div></div>
<div class="ttc" id="classCGameModel_html_ae0bad49626fc5b7bdf8b3fe6a4187462"><div class="ttname"><a href="classCGameModel.html#ae0bad49626fc5b7bdf8b3fe6a4187462">CGameModel::DLumberAvailable</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; DLumberAvailable</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00171">GameModel.h:171</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34"><div class="ttname"><a href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00030">GameDataTypes.h:30</a></div></div>
<div class="ttc" id="classCGameModel_html_abd062550cd4f0f9286f78f3195fe2f71"><div class="ttname"><a href="classCGameModel.html#abd062550cd4f0f9286f78f3195fe2f71">CGameModel::DDecayTime</a></div><div class="ttdeci">int DDecayTime</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00181">GameModel.h:181</a></div></div>
<div class="ttc" id="classCGameModel_html_a30e26a862e4eb282a275ed192017c248"><div class="ttname"><a href="classCGameModel.html#a30e26a862e4eb282a275ed192017c248">CGameModel::DDiagonalOccupancyMap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; DDiagonalOccupancyMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00168">GameModel.h:168</a></div></div>
<div class="ttc" id="classCTerrainMap_html_aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c"><div class="ttname"><a href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c">CTerrainMap::ttTree</a></div><div class="ttdef"><b>Definition:</b> <a href="TerrainMap_8h_source.html#l00031">TerrainMap.h:31</a></div></div>
<div class="ttc" id="classCGameModel_html_a524436c3560b10e1c6d6fdd0b66565dc"><div class="ttname"><a href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">CGameModel::DPlayers</a></div><div class="ttdeci">std::shared_ptr&lt; CPlayerData &gt; DPlayers[pcMax]</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00170">GameModel.h:170</a></div></div>
<div class="ttc" id="classCGameModel_html_a2207654c461a3654c6d765dd5421373f"><div class="ttname"><a href="classCGameModel.html#a2207654c461a3654c6d765dd5421373f">CGameModel::DAssetOccupancyMap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::shared_ptr&lt; CPlayerAsset &gt; &gt; &gt; DAssetOccupancyMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00167">GameModel.h:167</a></div></div>
<div class="ttc" id="classCGameModel_html_a3fb9b6b40f397c022087f381f63954b9"><div class="ttname"><a href="classCGameModel.html#a3fb9b6b40f397c022087f381f63954b9">CGameModel::DRandomNumberGenerator</a></div><div class="ttdeci">CRandomNumberGenerator DRandomNumberGenerator</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00165">GameModel.h:165</a></div></div>
<div class="ttc" id="classCGameModel_html_a8067a8f3737b0f1d6fced523926ce167"><div class="ttname"><a href="classCGameModel.html#a8067a8f3737b0f1d6fced523926ce167">CGameModel::DDeathSteps</a></div><div class="ttdeci">int DDeathSteps</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00180">GameModel.h:180</a></div></div>
<div class="ttc" id="classCGameModel_html_a4452faa5aa4b062cde343ccd24166232"><div class="ttname"><a href="classCGameModel.html#a4452faa5aa4b062cde343ccd24166232">CGameModel::DConveyTime</a></div><div class="ttdeci">int DConveyTime</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00177">GameModel.h:177</a></div></div>
<div class="ttc" id="classCPlayerAsset_html_a0aff85b9552967a42f4f3f42cb59c19f"><div class="ttname"><a href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a></div><div class="ttdeci">static int UpdateFrequency()</div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8h_source.html#l00342">PlayerAsset.h:342</a></div></div>
<div class="ttc" id="classCGameModel_html_a0160295e3cf06b7bbcb9247bc49e3156"><div class="ttname"><a href="classCGameModel.html#a0160295e3cf06b7bbcb9247bc49e3156">CGameModel::DHarvestTime</a></div><div class="ttdeci">int DHarvestTime</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00173">GameModel.h:173</a></div></div>
<div class="ttc" id="classCGameModel_html_ab7bd9d3b4852d539aa605177ae2f27e8"><div class="ttname"><a href="classCGameModel.html#ab7bd9d3b4852d539aa605177ae2f27e8">CGameModel::DMineTime</a></div><div class="ttdeci">int DMineTime</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00175">GameModel.h:175</a></div></div>
<div class="ttc" id="classCRandomNumberGenerator_html_a9b6f52335ea93f1aaec4521c66806f39"><div class="ttname"><a href="classCRandomNumberGenerator.html#a9b6f52335ea93f1aaec4521c66806f39">CRandomNumberGenerator::Seed</a></div><div class="ttdeci">void Seed(uint64_t seed)</div><div class="ttdef"><b>Definition:</b> <a href="RandomNumberGenerator_8h_source.html#l00032">RandomNumberGenerator.h:32</a></div></div>
<div class="ttc" id="classCGameModel_html_ad322487a9b50d395fe69c7ad95b71a10"><div class="ttname"><a href="classCGameModel.html#ad322487a9b50d395fe69c7ad95b71a10">CGameModel::DConveySteps</a></div><div class="ttdeci">int DConveySteps</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00178">GameModel.h:178</a></div></div>
<div class="ttc" id="classCGameModel_html_a886529fe17365373d28c2881fdaa21f0"><div class="ttname"><a href="classCGameModel.html#a886529fe17365373d28c2881fdaa21f0">CGameModel::DGoldPerMining</a></div><div class="ttdeci">int DGoldPerMining</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00184">GameModel.h:184</a></div></div>
<div class="ttc" id="classCGameModel_html_abfa4628f678b64ecfefb9f56150d906f"><div class="ttname"><a href="classCGameModel.html#abfa4628f678b64ecfefb9f56150d906f">CGameModel::DLumberPerHarvest</a></div><div class="ttdeci">int DLumberPerHarvest</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00183">GameModel.h:183</a></div></div>
<div class="ttc" id="classCGameModel_html_a2ddf991af7749f946a4fe242b2397b9a"><div class="ttname"><a href="classCGameModel.html#a2ddf991af7749f946a4fe242b2397b9a">CGameModel::DDeathTime</a></div><div class="ttdeci">int DDeathTime</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00179">GameModel.h:179</a></div></div>
<div class="ttc" id="classCAssetDecoratedMap_html_a9d0fa2b32e4e8add6da83a7ebcfab6d8"><div class="ttname"><a href="classCAssetDecoratedMap.html#a9d0fa2b32e4e8add6da83a7ebcfab6d8">CAssetDecoratedMap::DuplicateMap</a></div><div class="ttdeci">static std::shared_ptr&lt; CAssetDecoratedMap &gt; DuplicateMap(int index, EPlayerColor newcolors[pcMax])</div><div class="ttdef"><b>Definition:</b> <a href="AssetDecoratedMap_8cpp_source.html#l00115">AssetDecoratedMap.cpp:115</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCGameModel_a37858821d1294b21b374cf4f81052f3e_cgraph.png" border="0" usemap="#classCGameModel_a37858821d1294b21b374cf4f81052f3e_cgraph" alt=""/></div>
<map name="classCGameModel_a37858821d1294b21b374cf4f81052f3e_cgraph" id="classCGameModel_a37858821d1294b21b374cf4f81052f3e_cgraph">
<area shape="rect" id="node2" href="classCAssetDecoratedMap.html#a9d0fa2b32e4e8add6da83a7ebcfab6d8" title="CAssetDecoratedMap\l::DuplicateMap" alt="" coords="295,5,457,47"/>
<area shape="rect" id="node3" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f" title="CPlayerAsset::UpdateFrequency" alt="" coords="260,71,492,98"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7591a4e79f91a048462bce532fd4eca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7591a4e79f91a048462bce532fd4eca1">&sect;&nbsp;</a></span>ClearGameEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CGameModel::ClearGameEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8cpp_source.html#l01107">1107</a> of file <a class="el" href="GameModel_8cpp_source.html">GameModel.cpp</a>.</p>

<p>References <a class="el" href="GameDataTypes_8h_source.html#l00030">pcMax</a>.</p>
<div class="fragment"><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                                {</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> PlayerIndex = 0; PlayerIndex &lt; <a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a>; PlayerIndex++){</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[PlayerIndex]-&gt;ClearGameEvents();</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    }</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;}</div><div class="ttc" id="GameDataTypes_8h_html_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34"><div class="ttname"><a href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00030">GameDataTypes.h:30</a></div></div>
<div class="ttc" id="classCGameModel_html_a524436c3560b10e1c6d6fdd0b66565dc"><div class="ttname"><a href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">CGameModel::DPlayers</a></div><div class="ttdeci">std::shared_ptr&lt; CPlayerData &gt; DPlayers[pcMax]</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00170">GameModel.h:170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af27947dce7cc0fa2dc9ec81872e26264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af27947dce7cc0fa2dc9ec81872e26264">&sect;&nbsp;</a></span>GameCycle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::GameCycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00189">189</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

<p>References <a class="el" href="GameModel_8h_source.html#l00061">CPlayerData::DGameCycle</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                             {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCGameModel.html#a80bf86a6c1d75229d5d0f441f6313a1c">DGameCycle</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        };</div><div class="ttc" id="classCGameModel_html_a80bf86a6c1d75229d5d0f441f6313a1c"><div class="ttname"><a href="classCGameModel.html#a80bf86a6c1d75229d5d0f441f6313a1c">CGameModel::DGameCycle</a></div><div class="ttdeci">int DGameCycle</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00172">GameModel.h:172</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b95d8fb5d96d3dd9ad3596e1a90f6a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b95d8fb5d96d3dd9ad3596e1a90f6a3">&sect;&nbsp;</a></span>Map()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classCAssetDecoratedMap.html">CAssetDecoratedMap</a> &gt; CGameModel::Map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00194">194</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

<p>References <a class="el" href="GameModel_8h_source.html#l00151">CPlayerData::ClearGameEvents()</a>, and <a class="el" href="GameModel_8h_source.html#l00053">CPlayerData::DActualMap</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                                                       {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>;  </div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        };</div><div class="ttc" id="classCGameModel_html_ace04c3b62d6b71e20d1ed5460c0c3cee"><div class="ttname"><a href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">CGameModel::DActualMap</a></div><div class="ttdeci">std::shared_ptr&lt; CAssetDecoratedMap &gt; DActualMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00166">GameModel.h:166</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3_cgraph.png" border="0" usemap="#classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3_cgraph" alt=""/></div>
<map name="classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3_cgraph" id="classCGameModel_a7b95d8fb5d96d3dd9ad3596e1a90f6a3_cgraph">
<area shape="rect" id="node2" href="classCPlayerData.html#a74cbe8bf72037ca113c9c40ae7bca5ec" title="CPlayerData::ClearGameEvents" alt="" coords="200,5,431,32"/>
</map>
</div>

</div>
</div>
<a id="ad9c8def41d5369661fab971b9a4fe786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9c8def41d5369661fab971b9a4fe786">&sect;&nbsp;</a></span>Player()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classCPlayerData.html">CPlayerData</a> &gt; CGameModel::Player </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602f">EPlayerColor</a>&#160;</td>
          <td class="paramname"><em>color</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8cpp_source.html#l00512">512</a> of file <a class="el" href="GameModel_8cpp_source.html">GameModel.cpp</a>.</p>

<p>References <a class="el" href="GameDataTypes_8h_source.html#l00030">pcMax</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                                                       {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordflow">if</span>((0 &gt; color)||(<a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a> &lt;= color)){</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;   </div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[color];</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;}</div><div class="ttc" id="GameDataTypes_8h_html_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34"><div class="ttname"><a href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00030">GameDataTypes.h:30</a></div></div>
<div class="ttc" id="classCGameModel_html_a524436c3560b10e1c6d6fdd0b66565dc"><div class="ttname"><a href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">CGameModel::DPlayers</a></div><div class="ttdeci">std::shared_ptr&lt; CPlayerData &gt; DPlayers[pcMax]</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00170">GameModel.h:170</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a699325d41d7ff27bda47bfb3048cfd8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699325d41d7ff27bda47bfb3048cfd8f">&sect;&nbsp;</a></span>Timestep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CGameModel::Timestep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8cpp_source.html#l00519">519</a> of file <a class="el" href="GameModel_8cpp_source.html">GameModel.cpp</a>.</p>

<p>References <a class="el" href="GameDataTypes_8h_source.html#l00040">aaAttack</a>, <a class="el" href="GameDataTypes_8h_source.html#l00036">aaBuild</a>, <a class="el" href="GameDataTypes_8h_source.html#l00047">aaCapability</a>, <a class="el" href="GameDataTypes_8h_source.html#l00035">aaConstruct</a>, <a class="el" href="GameDataTypes_8h_source.html#l00044">aaConveyGold</a>, <a class="el" href="GameDataTypes_8h_source.html#l00043">aaConveyLumber</a>, <a class="el" href="GameDataTypes_8h_source.html#l00045">aaDeath</a>, <a class="el" href="GameDataTypes_8h_source.html#l00046">aaDecay</a>, <a class="el" href="GameDataTypes_8h_source.html#l00041">aaHarvestLumber</a>, <a class="el" href="GameDataTypes_8h_source.html#l00042">aaMineGold</a>, <a class="el" href="GameDataTypes_8h_source.html#l00034">aaNone</a>, <a class="el" href="GameDataTypes_8h_source.html#l00037">aaRepair</a>, <a class="el" href="GameDataTypes_8h_source.html#l00039">aaStandGround</a>, <a class="el" href="GameDataTypes_8h_source.html#l00038">aaWalk</a>, <a class="el" href="GameDataTypes_8h_source.html#l00051">actNone</a>, <a class="el" href="GameDataTypes_8h_source.html#l00101">atCastle</a>, <a class="el" href="GameDataTypes_8h_source.html#l00100">atKeep</a>, <a class="el" href="GameDataTypes_8h_source.html#l00104">atLumberMill</a>, <a class="el" href="GameDataTypes_8h_source.html#l00093">atNone</a>, <a class="el" href="GameDataTypes_8h_source.html#l00099">atTownHall</a>, <a class="el" href="PlayerAsset_8h_source.html#l00315">SAssetCommand::DAction</a>, <a class="el" href="PlayerAsset_8h_source.html#l00318">SAssetCommand::DActivatedCapability</a>, <a class="el" href="GameModel_8h_source.html#l00053">CPlayerData::DActualMap</a>, <a class="el" href="GameModel_8h_source.html#l00045">SGameEvent::DAsset</a>, <a class="el" href="PlayerAsset_8h_source.html#l00317">SAssetCommand::DAssetTarget</a>, <a class="el" href="PlayerAsset_8h_source.html#l00316">SAssetCommand::DCapability</a>, <a class="el" href="GameModel_8h_source.html#l00061">CPlayerData::DGameCycle</a>, <a class="el" href="Position_8cpp_source.html#l00223">CPosition::DistanceSquared()</a>, <a class="el" href="GameDataTypes_8h_source.html#l00121">dMax</a>, <a class="el" href="GameModel_8h_source.html#l00044">SGameEvent::DType</a>, <a class="el" href="GameModel_8h_source.html#l00033">etAttacked</a>, <a class="el" href="GameModel_8h_source.html#l00032">etDeath</a>, <a class="el" href="GameModel_8h_source.html#l00036">etHarvest</a>, <a class="el" href="GameModel_8h_source.html#l00037">etMeleeHit</a>, <a class="el" href="GameModel_8h_source.html#l00034">etMissleFire</a>, <a class="el" href="GameModel_8h_source.html#l00035">etMissleHit</a>, <a class="el" href="GameModel_8h_source.html#l00028">etWorkComplete</a>, <a class="el" href="PlayerAsset_8cpp_source.html#l00097">CPlayerCapability::FindCapability()</a>, <a class="el" href="GameModel_8h_source.html#l00089">CPlayerData::Gold()</a>, <a class="el" href="Position_8h_source.html#l00058">CPosition::HalfTileHeight()</a>, <a class="el" href="Position_8h_source.html#l00054">CPosition::HalfTileWidth()</a>, <a class="el" href="GameModel_8h_source.html#l00086">CPlayerData::IsAlive()</a>, <a class="el" href="GameDataTypes_8h_source.html#l00030">pcMax</a>, <a class="el" href="GameDataTypes_8h_source.html#l00021">pcNone</a>, <a class="el" href="GameModel_8cpp_source.html#l00027">RangeToDistanceSquared()</a>, <a class="el" href="Position_8cpp_source.html#l00121">CPosition::SetFromTile()</a>, <a class="el" href="Position_8cpp_source.html#l00134">CPosition::SetToTile()</a>, <a class="el" href="Position_8h_source.html#l00046">CPosition::TileWidth()</a>, <a class="el" href="TerrainMap_8h_source.html#l00032">CTerrainMap::ttStump</a>, <a class="el" href="TerrainMap_8h_source.html#l00031">CTerrainMap::ttTree</a>, <a class="el" href="PlayerAsset_8h_source.html#l00342">CPlayerAsset::UpdateFrequency()</a>, <a class="el" href="Position_8h_source.html#l00062">CPosition::X()</a>, and <a class="el" href="Position_8h_source.html#l00080">CPosition::Y()</a>.</p>
<div class="fragment"><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                         {</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    std::vector&lt; SGameEvent &gt; CurrentEvents;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <a class="code" href="structSGameEvent.html">SGameEvent</a> TempEvent;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    </div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Row : <a class="code" href="classCGameModel.html#a2207654c461a3654c6d765dd5421373f">DAssetOccupancyMap</a>){</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Cell : Row){</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            Cell = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Row : <a class="code" href="classCGameModel.html#a30e26a862e4eb282a275ed192017c248">DDiagonalOccupancyMap</a>){</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> Index = 0; Index &lt; Row.size(); Index++){</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            Row[Index] = <span class="keyword">false</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        }</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Asset : <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Assets()){</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a">aaConveyGold</a> != Asset-&gt;Action())&amp;&amp;(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154">aaConveyLumber</a> != Asset-&gt;Action())&amp;&amp;(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b">aaMineGold</a> != Asset-&gt;Action())){</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            DAssetOccupancyMap[Asset-&gt;TilePositionY()][Asset-&gt;TilePositionX()] = Asset;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        }</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    }</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> PlayerIndex = 1; PlayerIndex &lt; <a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a>; PlayerIndex++){</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[PlayerIndex]-&gt;IsAlive()){</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[PlayerIndex]-&gt;UpdateVisibility();</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        }</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    }</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keyword">auto</span> AllAssets = <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Assets();</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Asset : AllAssets){</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507">aaNone</a> == Asset-&gt;Action()){</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            Asset-&gt;PopCommand(); </div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        </div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4">aaCapability</a> == Asset-&gt;Action()){</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            <span class="keywordflow">if</span>(Command.<a class="code" href="structSAssetCommand.html#ad8beda19520811cc70fe1eab16c774dd">DActivatedCapability</a>){</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                <span class="keywordflow">if</span>(Command.<a class="code" href="structSAssetCommand.html#ad8beda19520811cc70fe1eab16c774dd">DActivatedCapability</a>-&gt;IncrementStep()){</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                    <span class="comment">// All Done    </span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                }</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            }</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordflow">else</span>{</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <span class="keyword">auto</span> PlayerCapability = <a class="code" href="classCPlayerCapability.html#a881ba4b87385d7cfe5cb6ced2d26f226">CPlayerCapability::FindCapability</a>(Command.<a class="code" href="structSAssetCommand.html#a734ea7c6847457b437360f333f570ff9">DCapability</a>);</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                </div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                Asset-&gt;PopCommand();</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordflow">if</span>(PlayerCapability-&gt;CanApply(Asset, <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()], Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>)){</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                    PlayerCapability-&gt;ApplyCapability(Asset, <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()], Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                }</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keywordflow">else</span>{</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    <span class="comment">// Can&#39;t apply notify problem   </span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            }</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;        } </div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee">aaHarvestLumber</a> == Asset-&gt;Action()){</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <a class="code" href="classCPosition.html">CPosition</a> TilePosition = Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;TilePosition();</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a> HarvestDirection = Asset-&gt;TilePosition().AdjacentTileDirection(TilePosition);</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            </div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c">CTerrainMap::ttTree</a> != <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;TileType(TilePosition)){</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                HarvestDirection = <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a>;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                TilePosition = Asset-&gt;TilePosition();</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a> == HarvestDirection){</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <span class="keywordflow">if</span>(TilePosition == Asset-&gt;TilePosition()){</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    <a class="code" href="classCPosition.html">CPosition</a> NewPosition = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;FindNearestReachableTileType(Asset-&gt;TilePosition(), <a class="code" href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c">CTerrainMap::ttTree</a>);</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                    <span class="comment">// Find new lumber</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    Asset-&gt;PopCommand();</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    <span class="keywordflow">if</span>(0 &lt;= NewPosition.<a class="code" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">X</a>()){</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                        NewPosition.<a class="code" href="classCPosition.html#a46994e6a8b8e3b4237edd7259ad844b6">SetFromTile</a>(NewPosition);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;CreateMarker(NewPosition, <span class="keyword">false</span>);</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                        Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                        Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                        Asset-&gt;ResetStep();</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                    }</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                }</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <span class="keywordflow">else</span>{</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                    <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NewCommand = Command;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                    </div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                    NewCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                    Asset-&gt;PushCommand(NewCommand);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    Asset-&gt;ResetStep();</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                }</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">else</span>{</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da1e80f7847f187eaf3f313eab1807c66c">etHarvest</a>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = Asset;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                CurrentEvents.push_back(TempEvent);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                Asset-&gt;Direction(HarvestDirection);</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                Asset-&gt;IncrementStep();</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                <span class="keywordflow">if</span>(DHarvestSteps &lt;= Asset-&gt;Step()){</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                    std::weak_ptr&lt; CPlayerAsset &gt; NearestRepository = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;FindNearestOwnedAsset(Asset-&gt;Position(), {<a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca5c0fa8a0f367f3358365536d3c7aa321">atTownHall</a>, <a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477fecaaed39451bedb0392ad95fbc9c95bef31">atKeep</a>, <a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca6727b47855e74f3f7b6e4a96d0c2a42a">atCastle</a>, <a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca7bb38316bc3193b5c9ec67ea6aad549c">atLumberMill</a>});</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                    </div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                    <a class="code" href="classCGameModel.html#ae0bad49626fc5b7bdf8b3fe6a4187462">DLumberAvailable</a>[TilePosition.<a class="code" href="classCPosition.html#a1aa8a30e2f08dda1f797736ba8c13a87">Y</a>()][TilePosition.<a class="code" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">X</a>()] -= <a class="code" href="classCGameModel.html#abfa4628f678b64ecfefb9f56150d906f">DLumberPerHarvest</a>;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                    <span class="keywordflow">if</span>(0 &gt;= <a class="code" href="classCGameModel.html#ae0bad49626fc5b7bdf8b3fe6a4187462">DLumberAvailable</a>[TilePosition.<a class="code" href="classCPosition.html#a1aa8a30e2f08dda1f797736ba8c13a87">Y</a>()][TilePosition.<a class="code" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">X</a>()]){</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                        <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;ChangeTileType(TilePosition, <a class="code" href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4ac6008e344fb024b62741b2ffaef042ef">CTerrainMap::ttStump</a>);  </div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                    </div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                    <span class="keywordflow">if</span>(!NearestRepository.expired()){</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154">aaConveyLumber</a>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = NearestRepository.lock();</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;                        Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                        Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                        Asset-&gt;Lumber(<a class="code" href="classCGameModel.html#abfa4628f678b64ecfefb9f56150d906f">DLumberPerHarvest</a>);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                        Asset-&gt;ResetStep();</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                    }</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                        Asset-&gt;PopCommand();</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                        Asset-&gt;Lumber(<a class="code" href="classCGameModel.html#abfa4628f678b64ecfefb9f56150d906f">DLumberPerHarvest</a>);</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                        Asset-&gt;ResetStep();</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    }</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;            }</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        }</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b">aaMineGold</a> == Asset-&gt;Action()){</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <a class="code" href="classCPosition.html">CPosition</a> ClosestPosition = Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClosestPosition(Asset-&gt;Position());</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="classCPosition.html">CPosition</a> TilePosition;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a> MineDirection;</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            </div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            TilePosition.<a class="code" href="classCPosition.html#ae302aa21792de64c97de29e2cbbfeb94">SetToTile</a>(ClosestPosition);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;            MineDirection = Asset-&gt;TilePosition().AdjacentTileDirection(TilePosition);</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <span class="keywordflow">if</span>((<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a> == MineDirection)&amp;&amp;(TilePosition != Asset-&gt;TilePosition())){</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NewCommand = Command;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                </div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;                NewCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                Asset-&gt;PushCommand(NewCommand);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                Asset-&gt;ResetStep();</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;            <span class="keywordflow">else</span>{</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                <span class="keywordflow">if</span>(0 == Asset-&gt;Step()){</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                    <span class="keywordflow">if</span>((Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;CommandCount() + 1) * DGoldPerMining &lt;=  Command.DAssetTarget-&gt;Gold()){</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                        <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NewCommand;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                        NewCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a02b95b7163284c6e80c9008073d8480d">aaBuild</a>; <span class="comment">// Pretend active</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                        NewCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = Asset;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        </div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;EnqueueCommand(NewCommand);</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                        Asset-&gt;IncrementStep();</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                        Asset-&gt;TilePosition(Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;TilePosition());</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                    }</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        <span class="comment">// Look for new mine or give up?   </span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                        Asset-&gt;PopCommand();</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    }</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                }</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                <span class="keywordflow">else</span>{</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                    Asset-&gt;IncrementStep();</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                    <span class="keywordflow">if</span>(DMineSteps &lt;= Asset-&gt;Step()){</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                        std::shared_ptr&lt; CPlayerAsset &gt; OldTarget = Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                        std::weak_ptr&lt; CPlayerAsset &gt; NearestRepository = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;FindNearestOwnedAsset(Asset-&gt;Position(), {<a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca5c0fa8a0f367f3358365536d3c7aa321">atTownHall</a>, <a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477fecaaed39451bedb0392ad95fbc9c95bef31">atKeep</a>, <a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca6727b47855e74f3f7b6e4a96d0c2a42a">atCastle</a>});</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                        <a class="code" href="classCPosition.html">CPosition</a> NextTarget(<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;Width()-1,<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;Height()-1);</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                        </div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;DecrementGold(<a class="code" href="classCGameModel.html#a886529fe17365373d28c2881fdaa21f0">DGoldPerMining</a>);</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;PopCommand();</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                        <span class="keywordflow">if</span>(0 &gt;= Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Gold()){</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NewCommand;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                            NewCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df">aaDeath</a>;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClearCommand();</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;PushCommand(NewCommand);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ResetStep();</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                        Asset-&gt;Gold(<a class="code" href="classCGameModel.html#a886529fe17365373d28c2881fdaa21f0">DGoldPerMining</a>);</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        <span class="keywordflow">if</span>(!NearestRepository.expired()){</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a">aaConveyGold</a>;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = NearestRepository.lock();</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                            Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                            Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;                            Asset-&gt;ResetStep();</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                            NextTarget = Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;TilePosition();</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                        }</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                        <span class="keywordflow">else</span>{</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                            Asset-&gt;PopCommand();</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;                        }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                        Asset-&gt;TilePosition(<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;FindAssetPlacement(Asset, OldTarget, NextTarget));</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;                    }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;                }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            }</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        }</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3">aaStandGround</a> == Asset-&gt;Action()){</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;            <span class="keyword">auto</span> NewTarget = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;FindNearestEnemy(Asset-&gt;Position(), Asset-&gt;EffectiveRange());</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            </div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;            <span class="keywordflow">if</span>(NewTarget.expired()){</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507">aaNone</a>;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">else</span>{</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d">aaAttack</a>;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = NewTarget.lock();</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;            Asset-&gt;ResetStep();</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a85399def907073717f41849c8f09eba5">aaRepair</a> == Asset-&gt;Action()){</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> CurrentCommand = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordflow">if</span>(CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Alive()){</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;                <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a> RepairDirection = Asset-&gt;TilePosition().AdjacentTileDirection(CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;TilePosition(), CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Size());</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a> == RepairDirection){</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;                    <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NextCommand = Asset-&gt;NextCommand();</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;                    </div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;                    CurrentCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;                    Asset-&gt;PushCommand(CurrentCommand);</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                    Asset-&gt;ResetStep();</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                <span class="keywordflow">else</span>{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;                    Asset-&gt;Direction(RepairDirection);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;                    Asset-&gt;IncrementStep();</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                    <span class="comment">// Assume same movement as attack</span></div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;                    <span class="keywordflow">if</span>(Asset-&gt;Step() == Asset-&gt;AttackSteps()){</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;Gold() &amp;&amp; <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;Lumber()){</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                            <span class="keywordtype">int</span> RepairPoints = (CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;MaxHitPoints() * (Asset-&gt;AttackSteps() + Asset-&gt;ReloadSteps())) / (<a class="code" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a>() * CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;BuildTime());</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                            </div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                            <span class="keywordflow">if</span>(0 == RepairPoints){</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                                RepairPoints = 1;   </div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                            }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                            <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;DecrementGold(1);</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                            <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;DecrementLumber(1);</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                            CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;IncrementHitPoints(RepairPoints);</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                            <span class="keywordflow">if</span>(CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;HitPoints() == CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;MaxHitPoints()){</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da0106cf4227412990140c1d773244b587">etWorkComplete</a>;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                                TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = Asset;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;                                <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;AddGameEvent(TempEvent);</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                                Asset-&gt;PopCommand();</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                            }</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                        }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                        <span class="keywordflow">else</span>{</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;                            <span class="comment">// Stop repair</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;                            Asset-&gt;PopCommand();   </div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;                        }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                    }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;                    <span class="keywordflow">if</span>(Asset-&gt;Step() &gt;= (Asset-&gt;AttackSteps() + Asset-&gt;ReloadSteps())){</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                       Asset-&gt;ResetStep();</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                    }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;                }</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;            }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;            <span class="keywordflow">else</span>{</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;                Asset-&gt;PopCommand();</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            }</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d">aaAttack</a> == Asset-&gt;Action()){</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> CurrentCommand = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca82fb51718e2c00981a2d37bc6fe92593">atNone</a> == Asset-&gt;Type()){</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                <a class="code" href="classCPosition.html">CPosition</a> ClosestTargetPosition = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClosestPosition(Asset-&gt;Position());</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                <a class="code" href="classCPosition.html">CPosition</a> DeltaPosition(ClosestTargetPosition.<a class="code" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">X</a>() - Asset-&gt;PositionX(), ClosestTargetPosition.<a class="code" href="classCPosition.html#a1aa8a30e2f08dda1f797736ba8c13a87">Y</a>() - Asset-&gt;PositionY());</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                <span class="keywordtype">int</span> Movement = <a class="code" href="classCPosition.html#a27a7a8b9a5541da0aa8d97d785650fb8">CPosition::TileWidth</a>() * 5 / <a class="code" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a>();</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                <span class="keywordtype">int</span> TargetDistance = Asset-&gt;Position().Distance(ClosestTargetPosition);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordtype">int</span> Divisor = (TargetDistance + Movement - 1)/ Movement;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                </div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                <span class="keywordflow">if</span>(Divisor){</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                    DeltaPosition.X( DeltaPosition.X() / Divisor);    </div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                    DeltaPosition.Y( DeltaPosition.Y() / Divisor);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;                }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;                Asset-&gt;PositionX(Asset-&gt;PositionX() + DeltaPosition.X());</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;                Asset-&gt;PositionY(Asset-&gt;PositionY() + DeltaPosition.Y());</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;                Asset-&gt;Direction(Asset-&gt;Position().DirectionTo(ClosestTargetPosition));</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="classCPosition.html#a4b799a0fb78ddd8bbd8548980e2458af">CPosition::HalfTileWidth</a>() * <a class="code" href="classCPosition.html#a5e371060b1aa0d3d3c5df1e353e0e5fd">CPosition::HalfTileHeight</a>() &gt; Asset-&gt;Position().DistanceSquared(ClosestTargetPosition)){</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                    TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da0a45453f61b6c27d3e65b3a2f1441cf1">etMissleHit</a>;</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;                    TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = Asset;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;                    CurrentEvents.push_back(TempEvent);</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;                    </div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                    <span class="keywordflow">if</span>(CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Alive()){</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                        <a class="code" href="structSAssetCommand.html">SAssetCommand</a> TargetCommand = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;CurrentCommand();</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                        TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da45f0b42495c144eda41b21a49f89e571">etAttacked</a>;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                        TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                        <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Color()]-&gt;AddGameEvent(TempEvent);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b">aaMineGold</a> != TargetCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                            </div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                            <span class="keywordflow">if</span>((<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a">aaConveyGold</a> == TargetCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>)||(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154">aaConveyLumber</a> == TargetCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>)){</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                <span class="comment">// Damage the target </span></div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = TargetCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                            }</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                            <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4">aaCapability</a> == TargetCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>) &amp;&amp; TargetCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>){</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                                <span class="keywordflow">if</span>(CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Speed() &amp;&amp; (<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a> == TargetCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Action())){</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                                    CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = TargetCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                                }</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;                            }</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;                            CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;DecrementHitPoints(Asset-&gt;HitPoints());</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;                            <span class="keywordflow">if</span>(!CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Alive()){</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                                <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;CurrentCommand();</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                                </div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;                                TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da09bf160787410891592fa1e9db2f5235">etDeath</a>;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;                                TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;                                CurrentEvents.push_back(TempEvent);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;                                <span class="comment">// Remove constructing</span></div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                                <span class="keywordflow">if</span>((<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4">aaCapability</a> == Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>)&amp;&amp;(Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>)){</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;                                    <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a> == Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Action()){</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;                                        <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Color()]-&gt;DeleteAsset(Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;                                    }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;                                }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;                                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a> == Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;                                    <span class="keywordflow">if</span>(Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>){</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;                                        Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClearCommand();</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;                                    }</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                                }</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Direction((<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a>)((Asset-&gt;Direction() + <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a>/2) % <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a>));</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                                Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df">aaDeath</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClearCommand();</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;PushCommand(Command);</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ResetStep();</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                            }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                        }</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                    }</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                    <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;DeleteAsset(Asset);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;                }</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            }</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Alive()){</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <span class="keywordflow">if</span>(1 == Asset-&gt;EffectiveRange()){</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                    <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a> AttackDirection = Asset-&gt;TilePosition().AdjacentTileDirection(CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;TilePosition(), CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Size());</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                    <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a> == AttackDirection){</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                        <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NextCommand = Asset-&gt;NextCommand();</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;                        </div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3">aaStandGround</a> != NextCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;                            CurrentCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;                            Asset-&gt;PushCommand(CurrentCommand);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                            Asset-&gt;ResetStep();</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;                        }</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                        <span class="keywordflow">else</span>{</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;                            Asset-&gt;PopCommand();      </div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        }</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    }</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                        Asset-&gt;Direction(AttackDirection);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                        Asset-&gt;IncrementStep();</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;                        <span class="keywordflow">if</span>(Asset-&gt;Step() == Asset-&gt;AttackSteps()){</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;                            <span class="keywordtype">int</span> Damage = Asset-&gt;EffectiveBasicDamage() - CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;EffectiveArmor();</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                            Damage = 0 &gt; Damage ? 0 : Damage;</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;                            Damage += Asset-&gt;EffectivePiercingDamage();</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;                            <span class="keywordflow">if</span>(<a class="code" href="classCGameModel.html#a3fb9b6b40f397c022087f381f63954b9">DRandomNumberGenerator</a>.<a class="code" href="classCRandomNumberGenerator.html#aa7fc51bde5647d15df2f1b9826702ca2">Random</a>() &amp; 0x1){ <span class="comment">// 50% chance half damage</span></div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;                                Damage /= 2;</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;                            }</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;                            CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;DecrementHitPoints(Damage);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;                            TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da8d8f64940a6b0bbc74f7e75a0e9e6e70">etMeleeHit</a>;</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                            TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = Asset;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                            CurrentEvents.push_back(TempEvent);</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                            TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da45f0b42495c144eda41b21a49f89e571">etAttacked</a>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                            TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;                            <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Color()]-&gt;AddGameEvent(TempEvent);</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                            <span class="keywordflow">if</span>(!CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Alive()){</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                                <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;CurrentCommand();</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                </div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                                TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da09bf160787410891592fa1e9db2f5235">etDeath</a>;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                                TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                                CurrentEvents.push_back(TempEvent);</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                                <span class="comment">// Remove constructing</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;                                <span class="keywordflow">if</span>((<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4">aaCapability</a> == Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>)&amp;&amp;(Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>)){</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;                                    <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a> == Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Action()){</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                        <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Color()]-&gt;DeleteAsset(Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;                                    }</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                                }</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                                <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a> == Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                                    <span class="keywordflow">if</span>(Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>){</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                                        Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClearCommand();</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                                    }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                                }</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                                Command.<a class="code" href="structSAssetCommand.html#a734ea7c6847457b437360f333f570ff9">DCapability</a> = <a class="code" href="GameDataTypes_8h.html#a35b98ce26aca678b03c6f9f76e4778ceaa8df154ad276f6f62054e9b5b0696f92">actNone</a>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                                Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                                Command.<a class="code" href="structSAssetCommand.html#ad8beda19520811cc70fe1eab16c774dd">DActivatedCapability</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;Direction((<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a>)((AttackDirection + <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a>/2) % <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a>));</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                                Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df">aaDeath</a>;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClearCommand();</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;PushCommand(Command);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                                CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ResetStep();</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                            }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                        }</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                        <span class="keywordflow">if</span>(Asset-&gt;Step() &gt;= (Asset-&gt;AttackSteps() + Asset-&gt;ReloadSteps())){</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                           Asset-&gt;ResetStep();</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                        }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                    }</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                }</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                <span class="keywordflow">else</span>{ <span class="comment">// EffectiveRanged</span></div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <a class="code" href="classCPosition.html">CPosition</a> ClosestTargetPosition = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClosestPosition(Asset-&gt;Position());</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    <span class="keywordflow">if</span>(ClosestTargetPosition.<a class="code" href="classCPosition.html#acd96d507f44c0fdf13036ebc1a09e59c">DistanceSquared</a>( Asset-&gt;Position() ) &gt; <a class="code" href="GameModel_8cpp.html#afd5c111a1369dc53d1b1230506e99f7c">RangeToDistanceSquared</a>(Asset-&gt;EffectiveRange())){</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                        <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NextCommand = Asset-&gt;NextCommand();</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;                        </div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                        <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3">aaStandGround</a> != NextCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                            CurrentCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                            Asset-&gt;PushCommand(CurrentCommand);</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                            Asset-&gt;ResetStep();</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                        }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                        <span class="keywordflow">else</span>{</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                            Asset-&gt;PopCommand();</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                        }   </div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                    }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                    <span class="keywordflow">else</span>{</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                        <span class="comment">/*</span></div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;<span class="comment">                        CPosition DeltaPosition(ClosestTargetPosition.X() - Asset-&gt;PositionX(), ClosestTargetPosition.Y() - Asset-&gt;PositionY());</span></div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;<span class="comment">                        int DivX = DeltaPosition.X() / CPosition::HalfTileWidth();</span></div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="comment">                        int DivY = DeltaPosition.Y() / CPosition::HalfTileHeight();</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="comment">                        int Div;</span></div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;<span class="comment">                        EDirection AttackDirection;</span></div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;<span class="comment">                        DivX = 0 &gt; DivX ? -DivX : DivX;</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;<span class="comment">                        DivY = 0 &gt; DivY ? -DivY : DivY;</span></div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;<span class="comment">                        Div = DivX &gt; DivY ? DivX : DivY;</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;<span class="comment">                        if(Div){</span></div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;<span class="comment">                            DeltaPosition.X(DeltaPosition.X() / Div);</span></div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;<span class="comment">                            DeltaPosition.Y(DeltaPosition.Y() / Div);</span></div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="comment">                        }</span></div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="comment">                        DeltaPosition.IncrementX(CPosition::HalfTileWidth());</span></div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;<span class="comment">                        DeltaPosition.IncrementY(CPosition::HalfTileHeight());</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;<span class="comment">                        if(0 &gt; DeltaPosition.X()){</span></div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;<span class="comment">                            DeltaPosition.X(0);</span></div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;<span class="comment">                        }</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;<span class="comment">                        if(0 &gt; DeltaPosition.Y()){</span></div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;<span class="comment">                            DeltaPosition.Y(0);</span></div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;<span class="comment">                        }</span></div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;<span class="comment">                        if(CPosition::TileWidth() &lt;= DeltaPosition.X()){</span></div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;<span class="comment">                            DeltaPosition.X(CPosition::TileWidth() - 1);</span></div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;<span class="comment">                        }</span></div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">                        if(CPosition::TileHeight() &lt;= DeltaPosition.Y()){</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">                            DeltaPosition.Y(CPosition::TileHeight() - 1);</span></div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">                        }</span></div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;<span class="comment">                        AttackDirection = DeltaPosition.TileOctant();</span></div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;<span class="comment">                        */</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                        <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a> AttackDirection = Asset-&gt;Position().DirectionTo(ClosestTargetPosition);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                        Asset-&gt;Direction(AttackDirection);</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                        Asset-&gt;IncrementStep();</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                        <span class="keywordflow">if</span>(Asset-&gt;Step() == Asset-&gt;AttackSteps()){</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> AttackCommand; <span class="comment">// Create missle</span></div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                            <span class="keyword">auto</span> ArrowAsset = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[<a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa88767aa8e02c7b3192bbab4127b3d729">pcNone</a>]-&gt;CreateAsset(<span class="stringliteral">&quot;None&quot;</span>);</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                            <span class="keywordtype">int</span> Damage = Asset-&gt;EffectiveBasicDamage() - CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;EffectiveArmor();</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                            Damage = 0 &gt; Damage ? 0 : Damage;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                            Damage += Asset-&gt;EffectivePiercingDamage();</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                            <span class="keywordflow">if</span>(<a class="code" href="classCGameModel.html#a3fb9b6b40f397c022087f381f63954b9">DRandomNumberGenerator</a>.<a class="code" href="classCRandomNumberGenerator.html#aa7fc51bde5647d15df2f1b9826702ca2">Random</a>() &amp; 0x1){ <span class="comment">// 50% chance half damage</span></div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                                Damage /= 2;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                            }</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                            </div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                            TempEvent.<a class="code" href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">DType</a> = <a class="code" href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656dae891b2dee1677bb6a343c0ca8c01fa0e">etMissleFire</a>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;                            TempEvent.<a class="code" href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">DAsset</a> = Asset;</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                            CurrentEvents.push_back(TempEvent);</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                            </div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                            ArrowAsset-&gt;HitPoints(Damage);</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                            ArrowAsset-&gt;Position(Asset-&gt;Position());</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                            <span class="keywordflow">if</span>(ArrowAsset-&gt;PositionX() &lt; ClosestTargetPosition.<a class="code" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">X</a>()){</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                                ArrowAsset-&gt;PositionX(ArrowAsset-&gt;PositionX() + <a class="code" href="classCPosition.html#a4b799a0fb78ddd8bbd8548980e2458af">CPosition::HalfTileWidth</a>());</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                            }</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ArrowAsset-&gt;PositionX() &gt; ClosestTargetPosition.<a class="code" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">X</a>()){</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                                ArrowAsset-&gt;PositionX(ArrowAsset-&gt;PositionX() - <a class="code" href="classCPosition.html#a4b799a0fb78ddd8bbd8548980e2458af">CPosition::HalfTileWidth</a>());</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                            }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                            </div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                            <span class="keywordflow">if</span>(ArrowAsset-&gt;PositionY() &lt; ClosestTargetPosition.<a class="code" href="classCPosition.html#a1aa8a30e2f08dda1f797736ba8c13a87">Y</a>()){</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                                ArrowAsset-&gt;PositionY(ArrowAsset-&gt;PositionY() + <a class="code" href="classCPosition.html#a5e371060b1aa0d3d3c5df1e353e0e5fd">CPosition::HalfTileHeight</a>());</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                            }</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ArrowAsset-&gt;PositionY() &gt; ClosestTargetPosition.<a class="code" href="classCPosition.html#a1aa8a30e2f08dda1f797736ba8c13a87">Y</a>()){</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                                ArrowAsset-&gt;PositionY(ArrowAsset-&gt;PositionY() - <a class="code" href="classCPosition.html#a5e371060b1aa0d3d3c5df1e353e0e5fd">CPosition::HalfTileHeight</a>());</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                            }</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                            ArrowAsset-&gt;Direction(AttackDirection);</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                            AttackCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a>;</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                            AttackCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = Asset;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                            ArrowAsset-&gt;PushCommand(AttackCommand);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;                            AttackCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d">aaAttack</a>;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                            AttackCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                            ArrowAsset-&gt;PushCommand(AttackCommand);</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                        }</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                        <span class="keywordflow">if</span>(Asset-&gt;Step() &gt;= (Asset-&gt;AttackSteps() + Asset-&gt;ReloadSteps())){</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;                           Asset-&gt;ResetStep();</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                        }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                    }</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;            }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;            <span class="keywordflow">else</span>{</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;                <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NextCommand = Asset-&gt;NextCommand();</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                </div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                Asset-&gt;PopCommand();</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3">aaStandGround</a> != NextCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                    <span class="keyword">auto</span> NewTarget = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;FindNearestEnemy(Asset-&gt;Position(), Asset-&gt;EffectiveSight());</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                    <span class="keywordflow">if</span>(!NewTarget.expired()){</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                        CurrentCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = NewTarget.lock();</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                        Asset-&gt;PushCommand(CurrentCommand);</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                        Asset-&gt;ResetStep();</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    }</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                }</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            }</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        }</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154">aaConveyLumber</a> == Asset-&gt;Action())||(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a">aaConveyGold</a> == Asset-&gt;Action())){</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            Asset-&gt;IncrementStep();</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="keywordflow">if</span>(DConveySteps &lt;= Asset-&gt;Step()){</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                <a class="code" href="classCPosition.html">CPosition</a> NextTarget(<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;Width()-1,<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;Height()-1);</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                </div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;IncrementGold(Asset-&gt;Gold());</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;IncrementLumber(Asset-&gt;Lumber());</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                Asset-&gt;Gold(0);</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                Asset-&gt;Lumber(0);</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                Asset-&gt;PopCommand();</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                Asset-&gt;ResetStep();</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507">aaNone</a> != Asset-&gt;Action()){</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                    NextTarget = Asset-&gt;CurrentCommand().DAssetTarget-&gt;TilePosition();</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                }</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                Asset-&gt;TilePosition(<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;FindAssetPlacement(Asset, Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>, NextTarget));</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;            }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;        }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a> == Asset-&gt;Action()){</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;            <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            <span class="keywordflow">if</span>(Command.<a class="code" href="structSAssetCommand.html#ad8beda19520811cc70fe1eab16c774dd">DActivatedCapability</a>){</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                <span class="keywordflow">if</span>(Command.<a class="code" href="structSAssetCommand.html#ad8beda19520811cc70fe1eab16c774dd">DActivatedCapability</a>-&gt;IncrementStep()){</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                    <span class="comment">// All Done    </span></div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                }</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            }   </div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;        }</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df">aaDeath</a> == Asset-&gt;Action()){</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            Asset-&gt;IncrementStep();</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;            <span class="keywordflow">if</span>(Asset-&gt;Step() &gt; <a class="code" href="classCGameModel.html#a8067a8f3737b0f1d6fced523926ce167">DDeathSteps</a>){</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                <span class="keywordflow">if</span>(Asset-&gt;Speed()){</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                    <a class="code" href="structSAssetCommand.html">SAssetCommand</a> DecayCommand;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                    <span class="comment">// Create corpse</span></div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                    <span class="keyword">auto</span> CorpseAsset = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[<a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa88767aa8e02c7b3192bbab4127b3d729">pcNone</a>]-&gt;CreateAsset(<span class="stringliteral">&quot;None&quot;</span>);</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                    </div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                    DecayCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a5529d58a84a26b10744433d7bf171451">aaDecay</a>;</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                    CorpseAsset-&gt;Position(Asset-&gt;Position());</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                    CorpseAsset-&gt;Direction(Asset-&gt;Direction());</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                    CorpseAsset-&gt;PushCommand(DecayCommand);</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                    </div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                }</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;DeleteAsset(Asset);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            }</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a5529d58a84a26b10744433d7bf171451">aaDecay</a> == Asset-&gt;Action()){</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            Asset-&gt;IncrementStep();</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            <span class="keywordflow">if</span>(Asset-&gt;Step() &gt; <a class="code" href="classCGameModel.html#ac4a0ea3659c796b1c4f8b1f91d0e3258">DDecaySteps</a>){</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;DeleteAsset(Asset);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            }</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        }</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        </div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a> == Asset-&gt;Action()){</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            <span class="keywordflow">if</span>(Asset-&gt;TileAligned()){</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                <a class="code" href="structSAssetCommand.html">SAssetCommand</a> Command = Asset-&gt;CurrentCommand();</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                <a class="code" href="structSAssetCommand.html">SAssetCommand</a> NextCommand = Asset-&gt;NextCommand();</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a> TravelDirection;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;                <a class="code" href="classCPosition.html">CPosition</a> MapTarget = Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClosestPosition(Asset-&gt;Position());</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                </div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d">aaAttack</a> == NextCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                    <span class="comment">// Check to see if can attack now</span></div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                    <span class="keywordflow">if</span>(NextCommand.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a>-&gt;ClosestPosition(Asset-&gt;Position()).DistanceSquared( Asset-&gt;Position() ) &lt;= <a class="code" href="GameModel_8cpp.html#afd5c111a1369dc53d1b1230506e99f7c">RangeToDistanceSquared</a>(Asset-&gt;EffectiveRange())){</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;                        Asset-&gt;PopCommand();</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                        Asset-&gt;ResetStep();</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                        <span class="keywordflow">continue</span>;   </div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    }</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                }</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                TravelDirection = <a class="code" href="classCGameModel.html#a37d0b5536c88a3e6ec16f46e7a413adf">DRouterMap</a>.<a class="code" href="classCRouterMap.html#ac638dca74d6ebe3602db9f7c69881146">FindRoute</a>(*<a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap(), *Asset, MapTarget);</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a> != TravelDirection){</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                    Asset-&gt;Direction(TravelDirection);</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                <span class="keywordflow">else</span>{</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                    <a class="code" href="classCPosition.html">CPosition</a> TilePosition;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                    TilePosition.<a class="code" href="classCPosition.html#ae302aa21792de64c97de29e2cbbfeb94">SetToTile</a>(MapTarget);</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;                    <span class="keywordflow">if</span>((TilePosition == Asset-&gt;TilePosition())||(<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a> != Asset-&gt;TilePosition().AdjacentTileDirection(TilePosition))){</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                        Asset-&gt;PopCommand();</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                        Asset-&gt;ResetStep();</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                        <span class="keywordflow">continue</span>;    </div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                    }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee">aaHarvestLumber</a> == NextCommand.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a>){</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;                        <a class="code" href="classCPosition.html">CPosition</a> NewPosition = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;PlayerMap()-&gt;FindNearestReachableTileType(Asset-&gt;TilePosition(), <a class="code" href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c">CTerrainMap::ttTree</a>);</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                        <span class="comment">// Find new lumber</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                        Asset-&gt;PopCommand();</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                        Asset-&gt;PopCommand();</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                        <span class="keywordflow">if</span>(0 &lt;= NewPosition.<a class="code" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">X</a>()){</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                            NewPosition.<a class="code" href="classCPosition.html#a46994e6a8b8e3b4237edd7259ad844b6">SetFromTile</a>(NewPosition);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee">aaHarvestLumber</a>;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">DAssetTarget</a> = <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[Asset-&gt;Color()]-&gt;CreateMarker(NewPosition, <span class="keyword">false</span>);</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                            Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                            Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a>;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;                            Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                            Asset-&gt;ResetStep();</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                            <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                        }</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                    }</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                    <span class="keywordflow">else</span>{</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                        Command.<a class="code" href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">DAction</a> = <a class="code" href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507">aaNone</a>;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                        Asset-&gt;PushCommand(Command);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                        Asset-&gt;ResetStep();</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                        <span class="keywordflow">continue</span>;    </div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                    }</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                }</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;            }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            <span class="keywordflow">if</span>(!Asset-&gt;MoveStep(DAssetOccupancyMap, DDiagonalOccupancyMap)){</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                Asset-&gt;Direction((<a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a>)((Asset-&gt;Position().TileOctant() + <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a>/2) % <a class="code" href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a>));</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;         </div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        }</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;    }</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <a class="code" href="classCGameModel.html#a80bf86a6c1d75229d5d0f441f6313a1c">DGameCycle</a>++;</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> PlayerIndex = 0; PlayerIndex &lt; <a class="code" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a>; PlayerIndex++){</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;        <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[PlayerIndex]-&gt;IncrementCycle();</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;        <a class="code" href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">DPlayers</a>[PlayerIndex]-&gt;AppendGameEvents(CurrentEvents);</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;}</div><div class="ttc" id="classCGameModel_html_a80bf86a6c1d75229d5d0f441f6313a1c"><div class="ttname"><a href="classCGameModel.html#a80bf86a6c1d75229d5d0f441f6313a1c">CGameModel::DGameCycle</a></div><div class="ttdeci">int DGameCycle</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00172">GameModel.h:172</a></div></div>
<div class="ttc" id="classCGameModel_html_ac4a0ea3659c796b1c4f8b1f91d0e3258"><div class="ttname"><a href="classCGameModel.html#ac4a0ea3659c796b1c4f8b1f91d0e3258">CGameModel::DDecaySteps</a></div><div class="ttdeci">int DDecaySteps</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00182">GameModel.h:182</a></div></div>
<div class="ttc" id="GameModel_8h_html_abfcf510bafec7c6429906a6ecaac656da1e80f7847f187eaf3f313eab1807c66c"><div class="ttname"><a href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da1e80f7847f187eaf3f313eab1807c66c">etHarvest</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00036">GameModel.h:36</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_a5600d4fc433b83300308921974477feca6727b47855e74f3f7b6e4a96d0c2a42a"><div class="ttname"><a href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca6727b47855e74f3f7b6e4a96d0c2a42a">atCastle</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00101">GameDataTypes.h:101</a></div></div>
<div class="ttc" id="classCGameModel_html_ace04c3b62d6b71e20d1ed5460c0c3cee"><div class="ttname"><a href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">CGameModel::DActualMap</a></div><div class="ttdeci">std::shared_ptr&lt; CAssetDecoratedMap &gt; DActualMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00166">GameModel.h:166</a></div></div>
<div class="ttc" id="classCPosition_html_ae302aa21792de64c97de29e2cbbfeb94"><div class="ttname"><a href="classCPosition.html#ae302aa21792de64c97de29e2cbbfeb94">CPosition::SetToTile</a></div><div class="ttdeci">void SetToTile(const CPosition &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="Position_8cpp_source.html#l00134">Position.cpp:134</a></div></div>
<div class="ttc" id="classCPosition_html_acd96d507f44c0fdf13036ebc1a09e59c"><div class="ttname"><a href="classCPosition.html#acd96d507f44c0fdf13036ebc1a09e59c">CPosition::DistanceSquared</a></div><div class="ttdeci">int DistanceSquared(const CPosition &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="Position_8cpp_source.html#l00223">Position.cpp:223</a></div></div>
<div class="ttc" id="GameModel_8h_html_abfcf510bafec7c6429906a6ecaac656da8d8f64940a6b0bbc74f7e75a0e9e6e70"><div class="ttname"><a href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da8d8f64940a6b0bbc74f7e75a0e9e6e70">etMeleeHit</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00037">GameModel.h:37</a></div></div>
<div class="ttc" id="GameModel_8cpp_html_afd5c111a1369dc53d1b1230506e99f7c"><div class="ttname"><a href="GameModel_8cpp.html#afd5c111a1369dc53d1b1230506e99f7c">RangeToDistanceSquared</a></div><div class="ttdeci">int RangeToDistanceSquared(int range)</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8cpp_source.html#l00027">GameModel.cpp:27</a></div></div>
<div class="ttc" id="GameModel_8h_html_abfcf510bafec7c6429906a6ecaac656da45f0b42495c144eda41b21a49f89e571"><div class="ttname"><a href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da45f0b42495c144eda41b21a49f89e571">etAttacked</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00033">GameModel.h:33</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_a35b98ce26aca678b03c6f9f76e4778ceaa8df154ad276f6f62054e9b5b0696f92"><div class="ttname"><a href="GameDataTypes_8h.html#a35b98ce26aca678b03c6f9f76e4778ceaa8df154ad276f6f62054e9b5b0696f92">actNone</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00051">GameDataTypes.h:51</a></div></div>
<div class="ttc" id="classCGameModel_html_ae0bad49626fc5b7bdf8b3fe6a4187462"><div class="ttname"><a href="classCGameModel.html#ae0bad49626fc5b7bdf8b3fe6a4187462">CGameModel::DLumberAvailable</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; DLumberAvailable</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00171">GameModel.h:171</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34"><div class="ttname"><a href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00030">GameDataTypes.h:30</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a5529d58a84a26b10744433d7bf171451"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a5529d58a84a26b10744433d7bf171451">aaDecay</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00046">GameDataTypes.h:46</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a917cb474275eadda79115015ef00d5df">aaDeath</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00045">GameDataTypes.h:45</a></div></div>
<div class="ttc" id="classCPosition_html"><div class="ttname"><a href="classCPosition.html">CPosition</a></div><div class="ttdef"><b>Definition:</b> <a href="Position_8h_source.html#l00022">Position.h:22</a></div></div>
<div class="ttc" id="GameModel_8h_html_abfcf510bafec7c6429906a6ecaac656da09bf160787410891592fa1e9db2f5235"><div class="ttname"><a href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da09bf160787410891592fa1e9db2f5235">etDeath</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00032">GameModel.h:32</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ae80ac4dde60023e0a1794e994db7000a">aaConveyGold</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00044">GameDataTypes.h:44</a></div></div>
<div class="ttc" id="structSAssetCommand_html_a3d9b43f6e59c386c48c41a65448a0c39"><div class="ttname"><a href="structSAssetCommand.html#a3d9b43f6e59c386c48c41a65448a0c39">SAssetCommand::DAssetTarget</a></div><div class="ttdeci">std::shared_ptr&lt; CPlayerAsset &gt; DAssetTarget</div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8h_source.html#l00317">PlayerAsset.h:317</a></div></div>
<div class="ttc" id="classCGameModel_html_a30e26a862e4eb282a275ed192017c248"><div class="ttname"><a href="classCGameModel.html#a30e26a862e4eb282a275ed192017c248">CGameModel::DDiagonalOccupancyMap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; bool &gt; &gt; DDiagonalOccupancyMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00168">GameModel.h:168</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a4c44c3d83b3b67a8dd2248d11bedd0ee">aaHarvestLumber</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00041">GameDataTypes.h:41</a></div></div>
<div class="ttc" id="classCPosition_html_a9a6b94d3b91df1492d166d9964c865fc"><div class="ttname"><a href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc">CPosition::X</a></div><div class="ttdeci">int X() const</div><div class="ttdef"><b>Definition:</b> <a href="Position_8h_source.html#l00062">Position.h:62</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319"><div class="ttname"><a href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42af6546049275557ce0ade2ceee042a319">dMax</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00121">GameDataTypes.h:121</a></div></div>
<div class="ttc" id="structSGameEvent_html_afa10562e243f4ac2b473b655cc58fee7"><div class="ttname"><a href="structSGameEvent.html#afa10562e243f4ac2b473b655cc58fee7">SGameEvent::DType</a></div><div class="ttdeci">EEventType DType</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00044">GameModel.h:44</a></div></div>
<div class="ttc" id="classCTerrainMap_html_aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c"><div class="ttname"><a href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4a15600fc22dc08ff5a3aec20930112f8c">CTerrainMap::ttTree</a></div><div class="ttdef"><b>Definition:</b> <a href="TerrainMap_8h_source.html#l00031">TerrainMap.h:31</a></div></div>
<div class="ttc" id="classCGameModel_html_a524436c3560b10e1c6d6fdd0b66565dc"><div class="ttname"><a href="classCGameModel.html#a524436c3560b10e1c6d6fdd0b66565dc">CGameModel::DPlayers</a></div><div class="ttdeci">std::shared_ptr&lt; CPlayerData &gt; DPlayers[pcMax]</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00170">GameModel.h:170</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_a5600d4fc433b83300308921974477feca7bb38316bc3193b5c9ec67ea6aad549c"><div class="ttname"><a href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca7bb38316bc3193b5c9ec67ea6aad549c">atLumberMill</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00104">GameDataTypes.h:104</a></div></div>
<div class="ttc" id="classCPlayerCapability_html_a881ba4b87385d7cfe5cb6ced2d26f226"><div class="ttname"><a href="classCPlayerCapability.html#a881ba4b87385d7cfe5cb6ced2d26f226">CPlayerCapability::FindCapability</a></div><div class="ttdeci">static std::shared_ptr&lt; CPlayerCapability &gt; FindCapability(EAssetCapabilityType type)</div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8cpp_source.html#l00097">PlayerAsset.cpp:97</a></div></div>
<div class="ttc" id="structSAssetCommand_html"><div class="ttname"><a href="structSAssetCommand.html">SAssetCommand</a></div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8h_source.html#l00314">PlayerAsset.h:314</a></div></div>
<div class="ttc" id="classCGameModel_html_a2207654c461a3654c6d765dd5421373f"><div class="ttname"><a href="classCGameModel.html#a2207654c461a3654c6d765dd5421373f">CGameModel::DAssetOccupancyMap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; std::shared_ptr&lt; CPlayerAsset &gt; &gt; &gt; DAssetOccupancyMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00167">GameModel.h:167</a></div></div>
<div class="ttc" id="classCGameModel_html_a3fb9b6b40f397c022087f381f63954b9"><div class="ttname"><a href="classCGameModel.html#a3fb9b6b40f397c022087f381f63954b9">CGameModel::DRandomNumberGenerator</a></div><div class="ttdeci">CRandomNumberGenerator DRandomNumberGenerator</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00165">GameModel.h:165</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670acf9fb164e8abd71c71f4a8c7fda360d4">aaCapability</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00047">GameDataTypes.h:47</a></div></div>
<div class="ttc" id="classCPosition_html_a46994e6a8b8e3b4237edd7259ad844b6"><div class="ttname"><a href="classCPosition.html#a46994e6a8b8e3b4237edd7259ad844b6">CPosition::SetFromTile</a></div><div class="ttdeci">void SetFromTile(const CPosition &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="Position_8cpp_source.html#l00121">Position.cpp:121</a></div></div>
<div class="ttc" id="classCRandomNumberGenerator_html_aa7fc51bde5647d15df2f1b9826702ca2"><div class="ttname"><a href="classCRandomNumberGenerator.html#aa7fc51bde5647d15df2f1b9826702ca2">CRandomNumberGenerator::Random</a></div><div class="ttdeci">uint32_t Random()</div><div class="ttdef"><b>Definition:</b> <a href="RandomNumberGenerator_8h_source.html#l00043">RandomNumberGenerator.h:43</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7ef6b863f66dd7dcc95a199cd758ae1d">aaConstruct</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00035">GameDataTypes.h:35</a></div></div>
<div class="ttc" id="GameModel_8h_html_abfcf510bafec7c6429906a6ecaac656da0a45453f61b6c27d3e65b3a2f1441cf1"><div class="ttname"><a href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da0a45453f61b6c27d3e65b3a2f1441cf1">etMissleHit</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00035">GameModel.h:35</a></div></div>
<div class="ttc" id="classCGameModel_html_a8067a8f3737b0f1d6fced523926ce167"><div class="ttname"><a href="classCGameModel.html#a8067a8f3737b0f1d6fced523926ce167">CGameModel::DDeathSteps</a></div><div class="ttdeci">int DDeathSteps</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00180">GameModel.h:180</a></div></div>
<div class="ttc" id="classCPosition_html_a1aa8a30e2f08dda1f797736ba8c13a87"><div class="ttname"><a href="classCPosition.html#a1aa8a30e2f08dda1f797736ba8c13a87">CPosition::Y</a></div><div class="ttdeci">int Y() const</div><div class="ttdef"><b>Definition:</b> <a href="Position_8h_source.html#l00080">Position.h:80</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_a5600d4fc433b83300308921974477fecaaed39451bedb0392ad95fbc9c95bef31"><div class="ttname"><a href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477fecaaed39451bedb0392ad95fbc9c95bef31">atKeep</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00100">GameDataTypes.h:100</a></div></div>
<div class="ttc" id="classCRouterMap_html_ac638dca74d6ebe3602db9f7c69881146"><div class="ttname"><a href="classCRouterMap.html#ac638dca74d6ebe3602db9f7c69881146">CRouterMap::FindRoute</a></div><div class="ttdeci">EDirection FindRoute(const CAssetDecoratedMap &amp;resmap, const CPlayerAsset &amp;resource, const CPosition &amp;target)</div><div class="ttdef"><b>Definition:</b> <a href="RouterMap_8cpp_source.html#l00091">RouterMap.cpp:91</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_aafb0ca75933357ff28a6d7efbdd7602fa88767aa8e02c7b3192bbab4127b3d729"><div class="ttname"><a href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa88767aa8e02c7b3192bbab4127b3d729">pcNone</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00021">GameDataTypes.h:21</a></div></div>
<div class="ttc" id="classCPosition_html_a4b799a0fb78ddd8bbd8548980e2458af"><div class="ttname"><a href="classCPosition.html#a4b799a0fb78ddd8bbd8548980e2458af">CPosition::HalfTileWidth</a></div><div class="ttdeci">static int HalfTileWidth()</div><div class="ttdef"><b>Definition:</b> <a href="Position_8h_source.html#l00054">Position.h:54</a></div></div>
<div class="ttc" id="classCPlayerAsset_html_a0aff85b9552967a42f4f3f42cb59c19f"><div class="ttname"><a href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f">CPlayerAsset::UpdateFrequency</a></div><div class="ttdeci">static int UpdateFrequency()</div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8h_source.html#l00342">PlayerAsset.h:342</a></div></div>
<div class="ttc" id="classCPosition_html_a5e371060b1aa0d3d3c5df1e353e0e5fd"><div class="ttname"><a href="classCPosition.html#a5e371060b1aa0d3d3c5df1e353e0e5fd">CPosition::HalfTileHeight</a></div><div class="ttdeci">static int HalfTileHeight()</div><div class="ttdef"><b>Definition:</b> <a href="Position_8h_source.html#l00058">Position.h:58</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_a5600d4fc433b83300308921974477feca82fb51718e2c00981a2d37bc6fe92593"><div class="ttname"><a href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca82fb51718e2c00981a2d37bc6fe92593">atNone</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00093">GameDataTypes.h:93</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a948eefd20b9e43d3b4cfcf613774716d">aaAttack</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00040">GameDataTypes.h:40</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a60ca9010aa62b73c1aab838ff4bf7276">aaWalk</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00038">GameDataTypes.h:38</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abd8a4e07a8f888148ed62ddd46719af3">aaStandGround</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00039">GameDataTypes.h:39</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a7b0954302f27f46b3fdf6fddd530d154">aaConveyLumber</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00043">GameDataTypes.h:43</a></div></div>
<div class="ttc" id="structSAssetCommand_html_ad8beda19520811cc70fe1eab16c774dd"><div class="ttname"><a href="structSAssetCommand.html#ad8beda19520811cc70fe1eab16c774dd">SAssetCommand::DActivatedCapability</a></div><div class="ttdeci">std::shared_ptr&lt; CActivatedPlayerCapability &gt; DActivatedCapability</div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8h_source.html#l00318">PlayerAsset.h:318</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a85399def907073717f41849c8f09eba5"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a85399def907073717f41849c8f09eba5">aaRepair</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00037">GameDataTypes.h:37</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670ac17cc5a0035320c060d7f8074143b507">aaNone</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00034">GameDataTypes.h:34</a></div></div>
<div class="ttc" id="GameModel_8h_html_abfcf510bafec7c6429906a6ecaac656da0106cf4227412990140c1d773244b587"><div class="ttname"><a href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656da0106cf4227412990140c1d773244b587">etWorkComplete</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00028">GameModel.h:28</a></div></div>
<div class="ttc" id="structSGameEvent_html_a40c85eeac83b96887b7449c9bdc5d624"><div class="ttname"><a href="structSGameEvent.html#a40c85eeac83b96887b7449c9bdc5d624">SGameEvent::DAsset</a></div><div class="ttdeci">std::shared_ptr&lt; CPlayerAsset &gt; DAsset</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00045">GameModel.h:45</a></div></div>
<div class="ttc" id="GameModel_8h_html_abfcf510bafec7c6429906a6ecaac656dae891b2dee1677bb6a343c0ca8c01fa0e"><div class="ttname"><a href="GameModel_8h.html#abfcf510bafec7c6429906a6ecaac656dae891b2dee1677bb6a343c0ca8c01fa0e">etMissleFire</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00034">GameModel.h:34</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_a5600d4fc433b83300308921974477feca5c0fa8a0f367f3358365536d3c7aa321"><div class="ttname"><a href="GameDataTypes_8h.html#a5600d4fc433b83300308921974477feca5c0fa8a0f367f3358365536d3c7aa321">atTownHall</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00099">GameDataTypes.h:99</a></div></div>
<div class="ttc" id="classCTerrainMap_html_aff2ab991e237269941416dd79d8871d4ac6008e344fb024b62741b2ffaef042ef"><div class="ttname"><a href="classCTerrainMap.html#aff2ab991e237269941416dd79d8871d4ac6008e344fb024b62741b2ffaef042ef">CTerrainMap::ttStump</a></div><div class="ttdef"><b>Definition:</b> <a href="TerrainMap_8h_source.html#l00032">TerrainMap.h:32</a></div></div>
<div class="ttc" id="structSAssetCommand_html_a734ea7c6847457b437360f333f570ff9"><div class="ttname"><a href="structSAssetCommand.html#a734ea7c6847457b437360f333f570ff9">SAssetCommand::DCapability</a></div><div class="ttdeci">EAssetCapabilityType DCapability</div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8h_source.html#l00316">PlayerAsset.h:316</a></div></div>
<div class="ttc" id="classCGameModel_html_a886529fe17365373d28c2881fdaa21f0"><div class="ttname"><a href="classCGameModel.html#a886529fe17365373d28c2881fdaa21f0">CGameModel::DGoldPerMining</a></div><div class="ttdeci">int DGoldPerMining</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00184">GameModel.h:184</a></div></div>
<div class="ttc" id="classCPosition_html_a27a7a8b9a5541da0aa8d97d785650fb8"><div class="ttname"><a href="classCPosition.html#a27a7a8b9a5541da0aa8d97d785650fb8">CPosition::TileWidth</a></div><div class="ttdeci">static int TileWidth()</div><div class="ttdef"><b>Definition:</b> <a href="Position_8h_source.html#l00046">Position.h:46</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670a02b95b7163284c6e80c9008073d8480d"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670a02b95b7163284c6e80c9008073d8480d">aaBuild</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00036">GameDataTypes.h:36</a></div></div>
<div class="ttc" id="classCGameModel_html_a37d0b5536c88a3e6ec16f46e7a413adf"><div class="ttname"><a href="classCGameModel.html#a37d0b5536c88a3e6ec16f46e7a413adf">CGameModel::DRouterMap</a></div><div class="ttdeci">CRouterMap DRouterMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00169">GameModel.h:169</a></div></div>
<div class="ttc" id="classCGameModel_html_abfa4628f678b64ecfefb9f56150d906f"><div class="ttname"><a href="classCGameModel.html#abfa4628f678b64ecfefb9f56150d906f">CGameModel::DLumberPerHarvest</a></div><div class="ttdeci">int DLumberPerHarvest</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00183">GameModel.h:183</a></div></div>
<div class="ttc" id="structSAssetCommand_html_a8edd3b3d59a76d5514ba403bc8076a75"><div class="ttname"><a href="structSAssetCommand.html#a8edd3b3d59a76d5514ba403bc8076a75">SAssetCommand::DAction</a></div><div class="ttdeci">EAssetAction DAction</div><div class="ttdef"><b>Definition:</b> <a href="PlayerAsset_8h_source.html#l00315">PlayerAsset.h:315</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b"><div class="ttname"><a href="GameDataTypes_8h.html#ab47668e651a3032cfb9c40ea2d60d670abc45b1c4fbca1481e373a780a69bd56b">aaMineGold</a></div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00042">GameDataTypes.h:42</a></div></div>
<div class="ttc" id="GameDataTypes_8h_html_acb2b033915f6659a71a38b5aa6e4eb42"><div class="ttname"><a href="GameDataTypes_8h.html#acb2b033915f6659a71a38b5aa6e4eb42">EDirection</a></div><div class="ttdeci">EDirection</div><div class="ttdef"><b>Definition:</b> <a href="GameDataTypes_8h_source.html#l00112">GameDataTypes.h:112</a></div></div>
<div class="ttc" id="structSGameEvent_html"><div class="ttname"><a href="structSGameEvent.html">SGameEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00043">GameModel.h:43</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f_cgraph.png" border="0" usemap="#classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f_cgraph" alt=""/></div>
<map name="classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f_cgraph" id="classCGameModel_a699325d41d7ff27bda47bfb3048cfd8f_cgraph">
<area shape="rect" id="node2" href="classCPosition.html#acd96d507f44c0fdf13036ebc1a09e59c" title="CPosition::DistanceSquared" alt="" coords="246,5,450,32"/>
<area shape="rect" id="node3" href="classCPlayerCapability.html#a881ba4b87385d7cfe5cb6ced2d26f226" title="CPlayerCapability::\lFindCapability" alt="" coords="275,57,421,98"/>
<area shape="rect" id="node4" href="classCPlayerData.html#afa5c728fc86335a9ca00b5121c0ec765" title="CPlayerData::Gold" alt="" coords="276,123,420,149"/>
<area shape="rect" id="node5" href="classCPosition.html#a5e371060b1aa0d3d3c5df1e353e0e5fd" title="CPosition::HalfTileHeight" alt="" coords="257,173,439,200"/>
<area shape="rect" id="node6" href="classCPosition.html#a4b799a0fb78ddd8bbd8548980e2458af" title="CPosition::HalfTileWidth" alt="" coords="259,224,437,251"/>
<area shape="rect" id="node7" href="classCPlayerData.html#a46ba3f00069e6da5cf4a1203a7456e1d" title="CPlayerData::IsAlive" alt="" coords="270,275,426,301"/>
<area shape="rect" id="node8" href="GameModel_8cpp.html#afd5c111a1369dc53d1b1230506e99f7c" title="RangeToDistanceSquared" alt="" coords="253,325,443,352"/>
<area shape="rect" id="node9" href="classCPosition.html#a27a7a8b9a5541da0aa8d97d785650fb8" title="CPosition::TileWidth" alt="" coords="512,351,665,377"/>
<area shape="rect" id="node10" href="classCPosition.html#a46994e6a8b8e3b4237edd7259ad844b6" title="CPosition::SetFromTile" alt="" coords="262,427,434,453"/>
<area shape="rect" id="node11" href="classCPosition.html#ae302aa21792de64c97de29e2cbbfeb94" title="CPosition::SetToTile" alt="" coords="271,477,425,504"/>
<area shape="rect" id="node12" href="classCPlayerAsset.html#a0aff85b9552967a42f4f3f42cb59c19f" title="CPlayerAsset::UpdateFrequency" alt="" coords="232,528,464,555"/>
<area shape="rect" id="node13" href="classCPosition.html#a9a6b94d3b91df1492d166d9964c865fc" title="CPosition::X" alt="" coords="297,579,399,605"/>
<area shape="rect" id="node14" href="classCPosition.html#a1aa8a30e2f08dda1f797736ba8c13a87" title="CPosition::Y" alt="" coords="297,629,399,656"/>
</map>
</div>

</div>
</div>
<a id="a5e6e46dd32a655e2a4432aeb134cc7e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e6e46dd32a655e2a4432aeb134cc7e3">&sect;&nbsp;</a></span>ValidAsset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CGameModel::ValidAsset </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classCPlayerAsset.html">CPlayerAsset</a> &gt;&#160;</td>
          <td class="paramname"><em>asset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8cpp_source.html#l00503">503</a> of file <a class="el" href="GameModel_8cpp_source.html">GameModel.cpp</a>.</p>

<p>References <a class="el" href="GameModel_8h_source.html#l00053">CPlayerData::DActualMap</a>.</p>
<div class="fragment"><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                                                              {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordflow">for</span>(<span class="keyword">auto</span> &amp;Asset : <a class="code" href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">DActualMap</a>-&gt;Assets()){</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">if</span>(asset == Asset){</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;    </div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;}</div><div class="ttc" id="classCGameModel_html_ace04c3b62d6b71e20d1ed5460c0c3cee"><div class="ttname"><a href="classCGameModel.html#ace04c3b62d6b71e20d1ed5460c0c3cee">CGameModel::DActualMap</a></div><div class="ttdeci">std::shared_ptr&lt; CAssetDecoratedMap &gt; DActualMap</div><div class="ttdef"><b>Definition:</b> <a href="GameModel_8h_source.html#l00166">GameModel.h:166</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ace04c3b62d6b71e20d1ed5460c0c3cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace04c3b62d6b71e20d1ed5460c0c3cee">&sect;&nbsp;</a></span>DActualMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classCAssetDecoratedMap.html">CAssetDecoratedMap</a> &gt; CGameModel::DActualMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00166">166</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a2207654c461a3654c6d765dd5421373f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2207654c461a3654c6d765dd5421373f">&sect;&nbsp;</a></span>DAssetOccupancyMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; std::shared_ptr&lt; <a class="el" href="classCPlayerAsset.html">CPlayerAsset</a> &gt; &gt; &gt; CGameModel::DAssetOccupancyMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00167">167</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="ad322487a9b50d395fe69c7ad95b71a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad322487a9b50d395fe69c7ad95b71a10">&sect;&nbsp;</a></span>DConveySteps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DConveySteps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00178">178</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a4452faa5aa4b062cde343ccd24166232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4452faa5aa4b062cde343ccd24166232">&sect;&nbsp;</a></span>DConveyTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DConveyTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00177">177</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a8067a8f3737b0f1d6fced523926ce167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8067a8f3737b0f1d6fced523926ce167">&sect;&nbsp;</a></span>DDeathSteps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DDeathSteps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00180">180</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a2ddf991af7749f946a4fe242b2397b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ddf991af7749f946a4fe242b2397b9a">&sect;&nbsp;</a></span>DDeathTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DDeathTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00179">179</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="ac4a0ea3659c796b1c4f8b1f91d0e3258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4a0ea3659c796b1c4f8b1f91d0e3258">&sect;&nbsp;</a></span>DDecaySteps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DDecaySteps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00182">182</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="abd062550cd4f0f9286f78f3195fe2f71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd062550cd4f0f9286f78f3195fe2f71">&sect;&nbsp;</a></span>DDecayTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DDecayTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00181">181</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a30e26a862e4eb282a275ed192017c248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e26a862e4eb282a275ed192017c248">&sect;&nbsp;</a></span>DDiagonalOccupancyMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; bool &gt; &gt; CGameModel::DDiagonalOccupancyMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00168">168</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a80bf86a6c1d75229d5d0f441f6313a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80bf86a6c1d75229d5d0f441f6313a1c">&sect;&nbsp;</a></span>DGameCycle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DGameCycle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00172">172</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a886529fe17365373d28c2881fdaa21f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a886529fe17365373d28c2881fdaa21f0">&sect;&nbsp;</a></span>DGoldPerMining</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DGoldPerMining</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00184">184</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a719733742e1340921a12efce992b07fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719733742e1340921a12efce992b07fe">&sect;&nbsp;</a></span>DHarvestSteps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DHarvestSteps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00174">174</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a0160295e3cf06b7bbcb9247bc49e3156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0160295e3cf06b7bbcb9247bc49e3156">&sect;&nbsp;</a></span>DHarvestTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DHarvestTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00173">173</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="ae0bad49626fc5b7bdf8b3fe6a4187462"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bad49626fc5b7bdf8b3fe6a4187462">&sect;&nbsp;</a></span>DLumberAvailable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; int &gt; &gt; CGameModel::DLumberAvailable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00171">171</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="abfa4628f678b64ecfefb9f56150d906f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfa4628f678b64ecfefb9f56150d906f">&sect;&nbsp;</a></span>DLumberPerHarvest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DLumberPerHarvest</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00183">183</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a9f3d8b652f62a0a1b993cb2402800203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f3d8b652f62a0a1b993cb2402800203">&sect;&nbsp;</a></span>DMineSteps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DMineSteps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00176">176</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="ab7bd9d3b4852d539aa605177ae2f27e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7bd9d3b4852d539aa605177ae2f27e8">&sect;&nbsp;</a></span>DMineTime</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CGameModel::DMineTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00175">175</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a524436c3560b10e1c6d6fdd0b66565dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a524436c3560b10e1c6d6fdd0b66565dc">&sect;&nbsp;</a></span>DPlayers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classCPlayerData.html">CPlayerData</a> &gt; CGameModel::DPlayers[<a class="el" href="GameDataTypes_8h.html#aafb0ca75933357ff28a6d7efbdd7602fa594a5c8dd3987f24e8a0f23f1a72cd34">pcMax</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00170">170</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a3fb9b6b40f397c022087f381f63954b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb9b6b40f397c022087f381f63954b9">&sect;&nbsp;</a></span>DRandomNumberGenerator</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRandomNumberGenerator.html">CRandomNumberGenerator</a> CGameModel::DRandomNumberGenerator</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00165">165</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<a id="a37d0b5536c88a3e6ec16f46e7a413adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37d0b5536c88a3e6ec16f46e7a413adf">&sect;&nbsp;</a></span>DRouterMap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRouterMap.html">CRouterMap</a> CGameModel::DRouterMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="GameModel_8h_source.html#l00169">169</a> of file <a class="el" href="GameModel_8h_source.html">GameModel.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="GameModel_8h_source.html">GameModel.h</a></li>
<li>src/<a class="el" href="GameModel_8cpp_source.html">GameModel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
